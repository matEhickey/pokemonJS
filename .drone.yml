pipeline:
  # test:
  #   image: node:8.16.0-alpine
  #   commands:
  #     - yarn install --ignore-optional
  #     - yarn test

  # publish:
  #   image: plugins/docker
  #   registry: http://registyui
  #   password: pa55word
  #   repo: matehickey/pokemonjs
  #   username: matehickey
  #   password: abcde
  #   tags: droneCI
  #   # auto_tag: true
  #   when:
  #     branch:
  #       - devtools/droneCI
  image: docker
  commands:
      - docker login --username=mathias --password=abcde registryui
      - docker build -t registryui/pokemonjs:droneCI .
      - docker push registryui/pokemonjs:droneCI
  volumes:
      - /var/run/docker.sock:/var/run/docker.sock

  # frontend:
  #   image: node:6
  #   commands:
  #     - npm install
  #     - npm test
  #
  #
  # notify:
  #   image: plugins/slack
  #   channel: developers
  #   username: drone
