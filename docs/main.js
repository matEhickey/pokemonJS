!function(e){var t={};function o(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(s,i,function(t){return e[t]}.bind(null,i));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=24)}([function(e,t,o){e.exports=o.p+"c4f6a76343bb2c9a27a4366d7c5596d8.png"},function(e,t,o){e.exports=o.p+"3d1518ff754ea154533a20d12f83b9fc.png"},function(e,t,o){e.exports=o.p+"88f60c27dfbbef22c95f395749f0be2c.png"},function(e,t,o){e.exports=o.p+"5db9feb0a548b0376ff55c04b631e53a.png"},function(e,t,o){e.exports=o.p+"34c6decc82d8f7a353d79cbda34a6b9b.png"},function(e,t,o){e.exports=o.p+"dd4e7ca69bb77386d883e5c50472e5ab.png"},function(e,t,o){e.exports=o.p+"a10189de1d226ddcff1d50a6c46a833e.png"},function(e,t,o){e.exports=o.p+"686fbadf6dc7bdc1a09babbd716c5397.png"},function(e,t,o){e.exports=o.p+"26349cf067803f5613d0578a15c9a8b7.png"},function(e,t,o){e.exports=o.p+"c0781bf65cced6f6d8c2ee277fdfde39.png"},function(e,t,o){e.exports=o.p+"615d3fe3cd45305fab16923b5fb14e86.png"},function(e,t,o){e.exports=o.p+"586a1a0ed248d8d5918adac7663a8344.png"},function(e,t,o){e.exports=o.p+"64b524083fe81c248c8588ce403b7540.png"},function(e,t,o){e.exports=o.p+"5196573bc10df4bf1f657d4f9e6bbea5.png"},function(e,t,o){e.exports=o.p+"af1476a972ac7bfe5a19e0f7c40769f4.png"},function(e,t,o){e.exports=o.p+"4b9efe6cf8af8877d35fb38efd0f1807.png"},function(e,t,o){e.exports=o.p+"b7ab41db89cd0ad149fea836263aea7d.png"},function(e,t,o){e.exports=o.p+"77c72eb6e29b8cb67d1bc48d0b2a339b.png"},function(e,t,o){e.exports=o.p+"009bd1ee2df6ea331849526b103a1c8d.wav"},function(e,t,o){var s=o(20);"string"==typeof s&&(s=[[e.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(22)(s,i);s.locals&&(e.exports=s.locals)},function(e,t,o){(e.exports=o(21)(!1)).push([e.i,"canvas{\n  background-color: grey;\n  max-height: 100%;\n  max-width: 100%;\n}\n\ncenter{\n  text-align: center;\n}\n\n.grid-container {\n  display: grid;\n  grid-template-columns: auto auto auto;\n  padding: 10px;\n}\n.grid-item {\n  border: 1px solid rgba(0, 0, 0, 0.8);\n  padding: 20px;\n  /* text-align: center; */\n}\n",""])},function(e,t,o){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var o=function(e,t){var o=e[1]||"",s=e[3];if(!s)return o;if(t&&"function"==typeof btoa){var i=(a=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),n=s.sources.map(function(e){return"/*# sourceURL="+s.sourceRoot+e+" */"});return[o].concat(n).concat([i]).join("\n")}var a;return[o].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+o+"}":o}).join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var s={},i=0;i<this.length;i++){var n=this[i][0];null!=n&&(s[n]=!0)}for(i=0;i<e.length;i++){var a=e[i];null!=a[0]&&s[a[0]]||(o&&!a[2]?a[2]=o:o&&(a[2]="("+a[2]+") and ("+o+")"),t.push(a))}},t}},function(e,t,o){var s,i,n={},a=(s=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=s.apply(this,arguments)),i}),l=function(e){var t={};return function(e,o){if("function"==typeof e)return e();if(void 0===t[e]){var s=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,o);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}t[e]=s}return t[e]}}(),r=null,u=0,h=[],d=o(23);function c(e,t){for(var o=0;o<e.length;o++){var s=e[o],i=n[s.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](s.parts[a]);for(;a<s.parts.length;a++)i.parts.push(P(s.parts[a],t))}else{var l=[];for(a=0;a<s.parts.length;a++)l.push(P(s.parts[a],t));n[s.id]={id:s.id,refs:1,parts:l}}}}function m(e,t){for(var o=[],s={},i=0;i<e.length;i++){var n=e[i],a=t.base?n[0]+t.base:n[0],l={css:n[1],media:n[2],sourceMap:n[3]};s[a]?s[a].parts.push(l):o.push(s[a]={id:a,parts:[l]})}return o}function p(e,t){var o=l(e.insertInto);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var s=h[h.length-1];if("top"===e.insertAt)s?s.nextSibling?o.insertBefore(t,s.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),h.push(t);else if("bottom"===e.insertAt)o.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=l(e.insertAt.before,o);o.insertBefore(t,i)}}function b(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=h.indexOf(e);t>=0&&h.splice(t,1)}function f(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var s=function(){0;return o.nc}();s&&(e.attrs.nonce=s)}return w(t,e.attrs),p(e,t),t}function w(e,t){Object.keys(t).forEach(function(o){e.setAttribute(o,t[o])})}function P(e,t){var o,s,i,n;if(t.transform&&e.css){if(!(n="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=n}if(t.singleton){var a=u++;o=r||(r=f(t)),s=k.bind(null,o,a,!1),i=k.bind(null,o,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",w(t,e.attrs),p(e,t),t}(t),s=function(e,t,o){var s=o.css,i=o.sourceMap,n=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||n)&&(s=d(s));i&&(s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([s],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(a),l&&URL.revokeObjectURL(l)}.bind(null,o,t),i=function(){b(o),o.href&&URL.revokeObjectURL(o.href)}):(o=f(t),s=function(e,t){var o=t.css,s=t.media;s&&e.setAttribute("media",s);if(e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}.bind(null,o),i=function(){b(o)});return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var o=m(e,t);return c(o,t),function(e){for(var s=[],i=0;i<o.length;i++){var a=o[i];(l=n[a.id]).refs--,s.push(l)}e&&c(m(e,t),t);for(i=0;i<s.length;i++){var l;if(0===(l=s[i]).refs){for(var r=0;r<l.parts.length;r++)l.parts[r]();delete n[l.id]}}}};var j,g=(j=[],function(e,t){return j[e]=t,j.filter(Boolean).join("\n")});function k(e,t,o,s){var i=o?"":s.css;if(e.styleSheet)e.styleSheet.cssText=g(t,i);else{var n=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(n,a[t]):e.appendChild(n)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,s=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,n=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(n)?e:(i=0===n.indexOf("//")?n:0===n.indexOf("/")?o+n:s+n.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,o){"use strict";o.r(t);class s{constructor(e,t,o,i,n,a){this.nom=e,this.lvl=t,this.type=o,this.puissance=i,this.precision=n,this.pp=a,this.num=s.attNum,s.attNum+=1}getName(){return this.nom}equals(e){return this.nom===e.getName()}save(){}}s.attNum=0;var i=s;function n(e){const t=document.getElementsByClassName(e);Array.from(t).forEach(e=>{e.style.display="none"})}var a=new class{constructor(){this.dev=!1,this.framed=!1}setMode(e){this.mode=e}getOption(e){return document.getElementById(`input_dev_${e}`).checked}init(){"?dev"===location.search?(this.dev=!0,n("hideIfDevMode")):n("hideIfNotDevMode"),"?framed"===location.search&&(this.framed=!0,n("hideIfIframed"),document.getElementsByTagName("body")[0].style.margin="0px")}addCollisionDev(e,t){!function(e,t){if(window.boolPressC){window.Cx2=e-window.Cx1,window.Cy2=t-window.Cy1;const o=`grille.ajouteObjet(new Objet("Collision",${window.Cx1}, ${window.Cy1}, ${window.Cx2},${window.Cy2}));<br>`;document.getElementById("loaderOutput").innerHTML+=o}else window.Cx1=e,window.Cy1=t;window.boolPressC=!window.boolPressC}(e,t)}addHerbeDev(e,t){!function(e,t){if(window.boolPressH){window.Hx2=e-window.Hx1,window.Hy2=e-window.Hy1;const t=`this.grille.ajouteHerbe(new Herbe(${window.Hx1}, ${window.Hy1}, ${window.Hx2}, ${window.Hy2}, 5));<br>`;document.getElementById("loaderOutput").innerHTML+=t}else window.Hx1=e,window.Hy1=t;window.boolPressH=!window.boolPressH}(e,t)}};const l={MAP:0,HUD:1,FIGHT:2};var r=l;function u(){return document.getElementById("ecran")}function h(){return document.getElementById("ecran").getContext("2d")}function d(e){setInterval(()=>{!function(e){const t=u(),o=h();switch(o.save(),o.clearRect(0,0,t.width,t.height),e.grille.show(),e.mode){case r.MAP:e.update(),a.dev&&e.grille.showDebug();break;case r.HUD:e.hud.show();break;case r.FIGHT:e.combat.drawCombat(),e.combat.runTour();break;default:console.error(`main.render: no compatible option ${e.mode}`)}o.restore()}(e)},e.fps)}class c{}c.load=(e=>{const t=document.createElement("img");return t.src=e,t});var m=c;var p={little:"20px Georgia",medium:"25px Georgia",large:"30px Georgia"},b=o(1),f=o.n(b),w=o(4),P=o.n(w);class j{constructor(e,t,o,s,i,n){this.numero=e,this.nom=t,this.type=o,this.description=s,this.attaques=[],this.evolution=i,this.niveauEvolution=n,this.chargeGlobalAttaques(),this.chargeAttaquesByTypes()}chargeGlobalAttaques(){this.addAttaque(new i("Charge",0,0,40,100,20)),this.addAttaque(new i("Frenesie",0,0,20,100,20)),this.addAttaque(new i("Mimiqueue",0,0,0,100,30)),this.addAttaque(new i("Belier",0,0,90,85,20)),this.addAttaque(new i("Damocle",0,0,120,100,20)),this.addAttaque(new i("Mimiqueue",0,0,0,100,30)),this.addAttaque(new i("Rugissement",0,0,50,100,20)),this.addAttaque(new i("Camaraderie",0,0,0,0,20)),this.addAttaque(new i("Vive Attaque",12,0,40,100,30)),this.addAttaque(new i("Griffe Acier",0,0,50,95,35)),this.addAttaque(new i("Griffe",0,0,40,100,35))}chargeAttaquesByTypes(){this.isType("Plante")&&(this.addAttaque(new i("Canon Graine",0,0,80,100,15)),this.addAttaque(new i("Fouet lianes",10,1,45,100,25)),this.addAttaque(new i("Tranch Herbe",20,1,55,95,25))),this.isType("Feu")&&(this.addAttaque(new i("Flameche",4,3,40,100,25)),this.addAttaque(new i("Lance Flame",13,3,90,100,25)),this.addAttaque(new i("Para spore",23,3,90,75,15))),this.isType("Poison")&&(this.addAttaque(new i("Para spore",3,4,10,75,35)),this.addAttaque(new i("Doux Parfum",7,4,0,100,20)),this.addAttaque(new i("Poudre Dodo",15,4,0,75,15)),this.addAttaque(new i("Para spore",17,4,40,75,15))),this.isType("Eau")&&(this.addAttaque(new i("Ecume",5,2,20,75,35)),this.addAttaque(new i("Pistolet a O",13,2,50,80,15)),this.addAttaque(new i("Hydro Canon",23,4,95,85,5))),this.isType("Vol")&&this.addAttaque(new i("Cru Aile",23,0,10,75,15)),this.isType("Electr")&&(this.addAttaque(new i("Eclair",0,4,40,100,30)),this.addAttaque(new i("Cage Eclair",8,4,0,100,20))),this.isType("Roche")&&(this.addAttaque(new i("Poli Roche",4,0,40,100,30)),this.addAttaque(new i("Poli Roche",4,0,40,100,30)))}afficheToi(){const e=h();e.fillStyle="#000000",e.font=p.little,e.fillText(`Nom : ${this.nom}`,65,270),e.fillText(`Type : ${this.type}`,65,300),e.fillText(`Descr : ${this.description}`,65,330,750);const t=m.load(f.a);e.drawImage(t,80*this.getGTX(),80*this.getGTY(),80,80,500,100,150,150)}afficheToiCombat(){const e=h(),t=m.load(f.a);e.drawImage(t,80*this.getGTX(),80*this.getGTY(),80,80,600,100,200,200)}afficheToiAt(e,t){const o=h(),s=m.load(f.a);o.drawImage(s,80*this.getGTX(),80*this.getGTY(),80,80,e,t,150,150)}getBackSprite(){const e=h(),t=m.load(P.a);e.drawImage(t,80*this.getGTX(),80*this.getGTY(),80,80,100,300,200,200)}getGTX(){return(this.numero-1)%25}getGTY(){return Math.floor((this.numero-1)/25)}getName(){return this.nom}addAttaque(e){this.attaques.push(e)}getAttaques(e){const t=[];return this.attaques.forEach(o=>{e>=o.lvl&&t.push(o)}),t}isType(e){return this.type.includes(e)}}var g=new class{constructor(){this.pokemons=["empty"],this.index=1,this.chargePokedex()}addPokemon(e){this.pokemons.push(e)}getPokeInf(){this.index-=1,this.index<1&&(this.index=this.pokemons.length-1)}getPokeSup(){this.index+=1,this.index>=this.pokemons.length&&(this.index=1)}getAttaques(e){return this.pokemons[e.num].getAttaques(e.lvl)}affichePokemon(){this.pokemons[this.index].afficheToi()}getPoke(e){return this.pokemons[e]}chargePokedex(){const e=new j(1,"Bulbizarre","Plante/Poison","Au matin de sa vie, la graine sur son dos lui fournit les éléments dont il a besoin pour grandir.",2,16);this.addPokemon(e);const t=new j(2,"Herbizarre","Plante/Poison","Lorsque le bourgeon sur son dos éclot, il répand un doux parfum pour célébrer sa floraison.",3,36);this.addPokemon(t);const o=new j(3,"Florizarre","Plante/Poison","Le parfum de sa fleur se fait plus pénétrant les lendemains de pluie. Cela appâte les autres Pokémon.",0,0);this.addPokemon(o);const s=new j(4,"Salameche","Feu","La flamme de sa queue symbolise sa vitalité. Elle est intense quand il est en bonne santé.",2,16);this.addPokemon(s);const i=new j(5,"Reptincel","Feu","La nuit, la queue ardente du REPTINCEL brille comme une étoile dans son repaire montagneux.",2,36);this.addPokemon(i);const n=new j(6,"Dracofeu","Feu/Vol","On raconte que la flamme du DRACAUFEU s'intensifie après un combat difficile.",0,0);this.addPokemon(n),this.addPokemon(new j(7,"Carapuce","Eau","Il se réfugie dans sa carapace et réplique en éclaboussant l'ennemi à la première occasion.",2,16)),this.addPokemon(new j(8,"Carabaffe","Eau","On prétend qu'il vit 10 000 ans. Sa queue duveteuse est un symbole de longévité populaire.",2,36)),this.addPokemon(new j(9,"Tortank","Eau","Les trombes d'eau projetées par les canons de sa carapace peuvent percer le métal le plus résistant.",0,0)),this.addPokemon(new j(10,"Chenipan","Insecte","Ses antennes rouges libèrent une puanteur qui repousse l'ennemi. Il grandit par mues régulières.",11,7)),this.addPokemon(new j(11,"Chrysacier","Insecte","Son corps frêle est protégé par sa carapace d'acier. Il encaisse les coups durs en attendant d'évoluer.",12,10)),this.addPokemon(new j(12,"Papilusion","Insecte/Vol","Il raffole du nectar des fleurs. Il est capable de repérer la plus petite quantité de pollen.",0,0)),this.addPokemon(new j(13,"Aspicot","Insecte/Poison","Il mange chaque jour son poids en feuilles. Il utilise l'aiguillon sur sa tête pour repousser l'ennemi.",14,7)),this.addPokemon(new j(14,"Coconfort","Insecte/Poison","Il se cache sous les feuilles et les branches pour fuir les prédateurs en attendant d'évoluer.",15,10)),this.addPokemon(new j(15,"Dardagnan","Insecte/Poison","Il virevolte rapidement autour de l'ennemi et frappe de son dard empoisonné avant de décamper.",0,0)),this.addPokemon(new j(16,"Roucool","Normal/Vol","",17,8)),this.addPokemon(new j(17,"Roucoops","Normal/Vol","",18,15)),this.addPokemon(new j(18,"Roucarnage","Normal/Vol","",0,0)),this.addPokemon(new j(19,"Rattata","Normal","",20,8)),this.addPokemon(new j(20,"Rattatac","Normal","",0,0)),this.addPokemon(new j(21,"Piafabec","Normal/Vol","",22,10)),this.addPokemon(new j(22,"Rapasdepic","Normal/Vol","",0,0)),this.addPokemon(new j(23,"Abo","Poison","",0,0)),this.addPokemon(new j(24,"Arboc","Poison","",0,0));const a=new j(25,"Pikachu","Electr","",26,25);this.addPokemon(a),this.addPokemon(new j(26,"Raichu","Electr","",0,0)),this.addPokemon(new j(27,"Sabelette","Sol","",0,0)),this.addPokemon(new j(28,"Sablaireau","Sol","",0,0)),this.addPokemon(new j(29,"Nidoran F","Poison","",0,0)),this.addPokemon(new j(30,"Nidorina","Poison","",0,0)),this.addPokemon(new j(31,"Nidoqueen","Poison/Sol","",0,0)),this.addPokemon(new j(32,"Nidoran M","Poison","",0,0)),this.addPokemon(new j(33,"Nidorino","Poison","",0,0)),this.addPokemon(new j(34,"Nidoking","Poison/Sol","",0,0)),this.addPokemon(new j(35,"Melofee","Fee","",0,0)),this.addPokemon(new j(36,"Melodelfe","Fee","",0,0)),this.addPokemon(new j(37,"Goupix","Feu","",0,0)),this.addPokemon(new j(38,"Feunard","Feu","",0,0)),this.addPokemon(new j(39,"Rondoudou","Normal/Fee","",0,0)),this.addPokemon(new j(40,"Grodoudou","Normal/Fee","",0,0)),this.addPokemon(new j(41,"Nosferapti","Poison/Vol","",0,0)),this.addPokemon(new j(42,"Nosferalto","Poison/Vol","",0,0)),this.addPokemon(new j(43,"Mystherbe","Plante/Poison","",0,0)),this.addPokemon(new j(44,"Ortide","Plante/Poison","",0,0)),this.addPokemon(new j(45,"Rafflesia","Plante/Poison","",0,0)),this.addPokemon(new j(46,"Paras","Insecte/Plante","",0,0)),this.addPokemon(new j(47,"Parasect","Insecte/Plante","",0,0)),this.addPokemon(new j(48,"Mimitos","Insecte/Poison","",0,0)),this.addPokemon(new j(49,"Aeromite","Insecte/Poison","",0,0)),this.addPokemon(new j(50,"Topiqueur","Sol","",0,0)),this.addPokemon(new j(51,"Triopikeur","Sol","",0,0)),this.addPokemon(new j(52,"Miaouss","Normal","",0,0)),this.addPokemon(new j(53,"Persian","Normal","",0,0)),this.addPokemon(new j(54,"Psykokwak","Eau","",0,0)),this.addPokemon(new j(55,"Akwakwak","Eau","",0,0)),this.addPokemon(new j(56,"Ferosinge","Combat","",0,0)),this.addPokemon(new j(57,"Colossinge","Combat","",0,0)),this.addPokemon(new j(58,"Caninos","Feu","",0,0)),this.addPokemon(new j(59,"Arcanin","Feu","",0,0)),this.addPokemon(new j(60,"Ptitard","Eau","",0,0)),this.addPokemon(new j(61,"Tetart","Eau","",0,0)),this.addPokemon(new j(62,"Tartard","Eau/Combat","",0,0)),this.addPokemon(new j(63,"Abra","Psy","",0,0)),this.addPokemon(new j(64,"Kadabra","Psy","",0,0)),this.addPokemon(new j(65,"Alakazam","Psy","",0,0)),this.addPokemon(new j(66,"Machoc","Combat","",0,0)),this.addPokemon(new j(67,"Machopeur","Combat","",0,0)),this.addPokemon(new j(68,"Mackogneur","Combat","",0,0)),this.addPokemon(new j(69,"Chetiflor","Plante/Poison","",0,0)),this.addPokemon(new j(70,"Boustiflor","Plante/Poison","",0,0)),this.addPokemon(new j(71,"Empiflor","Plante/Poison","",0,0)),this.addPokemon(new j(72,"Tentacool","Eau/Poison","",0,0)),this.addPokemon(new j(73,"Tentacruel","Eau/Poison","",0,0)),this.addPokemon(new j(74,"Racaillou","Roche/Sol","",0,0)),this.addPokemon(new j(75,"Gravalanch","Roche/Sol","",0,0)),this.addPokemon(new j(76,"Grolem","Roche/Sol","",0,0)),this.addPokemon(new j(77,"Ponyta","Feu","",0,0)),this.addPokemon(new j(78,"Galopa","Feu","",0,0)),this.addPokemon(new j(79,"Ramoloss","Eau/Psy","",0,0)),this.addPokemon(new j(80,"Flagadoss","Eau/Psy","",0,0)),this.addPokemon(new j(81,"Magneti","Electr","",0,0)),this.addPokemon(new j(82,"Magneton","Electr","",0,0)),this.addPokemon(new j(83,"Canarticho","Normal/Vol","",0,0)),this.addPokemon(new j(84,"Doduo","Normal/Vol","",0,0)),this.addPokemon(new j(85,"Dodrio","Normal/Vol","",0,0)),this.addPokemon(new j(86,"Otaria","Eau","",0,0)),this.addPokemon(new j(87,"Lamantine","Eau/Glace","",0,0)),this.addPokemon(new j(88,"Tadmorv","Poison","",0,0)),this.addPokemon(new j(89,"Grotadmorv","Poison","",0,0)),this.addPokemon(new j(90,"Kokiyas","Eau","",0,0)),this.addPokemon(new j(91,"Crustabri","Eau/Glace","",0,0)),this.addPokemon(new j(92,"Fantominus","Spectre/Poison","",0,0)),this.addPokemon(new j(93,"Spectrum","Spectre/Poison","",0,0)),this.addPokemon(new j(94,"Ectoplasma","Spectre/Poison","",0,0)),this.addPokemon(new j(95,"Onix","Roche/Sol","",0,0)),this.addPokemon(new j(96,"Soporifik","Psy","",0,0)),this.addPokemon(new j(97,"Hypnomade","Psy","",0,0)),this.addPokemon(new j(98,"Krabby","Eau","",0,0)),this.addPokemon(new j(99,"Kraboss","Eau","",0,0)),this.addPokemon(new j(100,"Voltorbe","Electr","",0,0)),this.addPokemon(new j(101,"Electrode","Electr","",0,0)),this.addPokemon(new j(102,"Noeunoeuf","Plante/Psy","",0,0)),this.addPokemon(new j(103,"Noadkoko","Plante/Psy","",0,0)),this.addPokemon(new j(104,"Osselet","Sol","",0,0)),this.addPokemon(new j(105,"Ossatueur","Sol","",0,0)),this.addPokemon(new j(106,"Kicklee","Combat","",0,0)),this.addPokemon(new j(107,"Tygnon","Combat","",0,0)),this.addPokemon(new j(108,"Excelangue","Normal","",0,0)),this.addPokemon(new j(109,"Smogo","Poison","",0,0)),this.addPokemon(new j(110,"Smogogo","Poison","",0,0)),this.addPokemon(new j(111,"Rhinocorne","Sol/Roche","",0,0)),this.addPokemon(new j(112,"Rhinoferoce","Sol/Roche","",0,0)),this.addPokemon(new j(113,"Leveinard","Normal","",0,0)),this.addPokemon(new j(114,"Saquedeneu","Plante","",0,0)),this.addPokemon(new j(115,"Kangourex","Normal","",0,0)),this.addPokemon(new j(116,"Hypotrempe","Eau","",0,0)),this.addPokemon(new j(117,"Hypocean","Eau","",0,0)),this.addPokemon(new j(118,"Poissireine","Eau","",0,0)),this.addPokemon(new j(119,"Poissoroi","Eau","",0,0)),this.addPokemon(new j(120,"Stari","Eau","",0,0)),this.addPokemon(new j(121,"Staros","Eau/Psy","",0,0)),this.addPokemon(new j(122,"M.Mime","Psy/Fee","",0,0)),this.addPokemon(new j(123,"Insecateur","Insecte/Vol","",0,0)),this.addPokemon(new j(124,"Lippoutou","Glace/Psy","",0,0)),this.addPokemon(new j(125,"Elektek","Electr","",0,0)),this.addPokemon(new j(126,"Magmar","Feu","",0,0)),this.addPokemon(new j(127,"Scarabrute","Insecte","",0,0)),this.addPokemon(new j(128,"Tauros","Normal","",0,0)),this.addPokemon(new j(129,"Magicarpe","Eau","",0,0)),this.addPokemon(new j(130,"Leviator","Eau/Vol","",0,0)),this.addPokemon(new j(131,"Lokhlass","Eau/Glace","",0,0)),this.addPokemon(new j(132,"Metamorph","Normal","",0,0)),this.addPokemon(new j(133,"Evoli","Normal","",0,0)),this.addPokemon(new j(134,"Aquali","Eau","",0,0)),this.addPokemon(new j(135,"Voltali","Electr","",0,0)),this.addPokemon(new j(136,"Pyroli","Feu","",0,0)),this.addPokemon(new j(137,"Porygon","Normal","",0,0)),this.addPokemon(new j(138,"Amonita","Roche/Eau","",0,0)),this.addPokemon(new j(139,"Amonistar","Roche/Eau","",0,0)),this.addPokemon(new j(140,"Kabuto","Roche/Eau","",0,0)),this.addPokemon(new j(141,"Kabutops","Roche/Eau","",0,0)),this.addPokemon(new j(142,"Ptera","Roche/Vol","",0,0)),this.addPokemon(new j(143,"Ronflex","Normal","",0,0)),this.addPokemon(new j(144,"Artikodin","Glace/Vol","",0,0)),this.addPokemon(new j(145,"Electhor","Electr/Vol","",0,0)),this.addPokemon(new j(146,"Sulfura","Feu/Vol","",0,0)),this.addPokemon(new j(147,"Minidraco","Dragon","",0,0)),this.addPokemon(new j(148,"Draco","","Dragon",0,0)),this.addPokemon(new j(149,"Dracoloss","Dragon/Vol","",0,0)),this.addPokemon(new j(150,"Mewtwo","Psy","",0,0)),this.addPokemon(new j(151,"Mew","Psy","",0,0))}};class k{constructor(e,t,o,s,i,n,a){this.num=e,this.lvl=t,this.pdv=s,this.pdvMax=s,this.exp=o,this.expMax=t*t*10,this.att=i,this.def=n,this.agi=a,this.attaques=[],this.getAttaques(),this.selectAttaque=this.attaques.find(()=>!0)}setExp(e){this.exp=e}setExpMax(e){this.expMax=e}setPdv(e){this.pdv=e}setPdvMax(e){this.pdvMax=e}setSelectAttaque(e){this.selectAttaque=this.attaques[e]}afficheToiAt(e,t){g.getPoke(this.num).afficheToiAt(e,t)}getAttaques(){const e=g.getAttaques(this);let t;for(let o=0;o<e.length;o+=1){t=!0;for(let s=0;s<this.attaques.length;s+=1)this.attaques[s].equals(e[o])&&(t=!1);t&&this.attaques.unshift(e[o])}}getAttaqueNum(e){return e>=this.attaques.length?"":this.attaques[e]}displayInfo(){console.log(`${this.getName()}---lvl:${this.lvl}`)}soigneToi(){this.pdv=this.pdvMax}getName(){try{return g.getPoke(this.num).getName()}catch(e){return console.log(e),""}}afficheToiCombat(){try{g.getPoke(this.num).afficheToiCombat()}catch(e){console.log(e)}}getBackSprite(){g.getPoke(this.num).getBackSprite()}getSelectAttaque(){return this.selectAttaque}attaque(e,t){this.pdv<=0&&console.warn("Pokemon.attaque but life is <= 0"),this.pdv<=0&&console.warn("Pokemon.attaque but life is <= 0");let o=0;const s=Math.random();return((o=Math.round(this.att*this.getSelectAttaque().puissance/10-(e.def+s*e.def)))<0||t)&&(o=0),e.pdv-=o,o}addExperience(e,t=null){this.exp+=e,this.exp>=this.expMax&&(t?this.monteNiveauCombat(t):this.monteNiveau())}monteNiveauCombat(e){if(this.lvl+=1,e.infos.push(`${g.pokemons[this.num].getName()} passe au niveau  ${this.lvl}`),this.expMax+=this.lvl*this.lvl*this.lvl*10,this.lvl>=g.pokemons[this.num].niveauEvolution&&g.pokemons[this.num].niveauEvolution>0){const t=this.getName();this.num=g.pokemons[this.num].evolution,e.infos.push(`${t} vient d'evoluer en ${this.getName()}`)}this.pdvMax=Math.round(1.2*this.pdvMax),this.att=Math.round(1.2*this.att),this.def=Math.round(1.2*this.def),this.agi=Math.round(1.1*this.agi),this.getAttaques()}monteNiveau(){if(this.lvl+=1,this.expMax+=this.lvl*this.lvl*this.lvl*10,this.lvl>=g.pokemons[this.num].niveauEvolution&&g.pokemons[this.num].niveauEvolution>0){const e=g.pokemons[this.num].evolution;e>0?this.num=e:console.warn(`[Pokemon.monteNiveau]: pokemon (${this.num} : ${this.nom}) have a niveauEvolution set but no evolution`)}this.pdvMax=Math.round(1.2*this.pdvMax),this.att=Math.round(1.2*this.att),this.def=Math.round(1.2*this.def),this.agi=Math.round(1.1*this.agi),this.getAttaques()}save(){}}function y(e){const t=Math.floor(148*Math.random())+1,o=new k(t,5,0,100,10,10,10);for(;o.lvl<e;)o.monteNiveau();return o.soigneToi(),o}var C=k;const v={ZonePerson:"rgba(226, 217, 0, 0.5)",Person:"rgba(255, 0, 0, 0.2)",Porte:"rgba(14, 103, 255, 0.5)"};var O={Black:"#000000",DarkGrey:"#444444",LightGrey:"#888888",LighterGrey:"#aaaaaa"};var x={South:0,West:1,East:2,North:3};var T=class{constructor(e){this.taille=20,this.dresseur=e}getCoordinates(){const e=this.dresseur.getCoordinates(),t={x:0,y:0,tailleX:0,tailleY:0};switch(this.dresseur.getOrientation()){case x.South:t.y+=this.taille-5,t.tailleY+=this.taille;break;case x.West:t.x-=this.taille,t.tailleX+=this.taille;break;case x.East:t.x+=this.taille-5,t.tailleX+=this.taille;break;case x.North:t.y-=this.taille,t.tailleY+=this.taille;break;default:console.warn("ZonePerson.showDebug: no orientation option")}const{x:o,y:s,tailleX:i,tailleY:n}={x:e.x+t.x,y:e.y+t.y,tailleX:e.tailleX/3+t.tailleX,tailleY:e.tailleY/3+t.tailleY};return{x:o,y:s,tailleX:i,tailleY:n,mx:o+i,my:s+n}}isWalkOn(e){const t=this.getCoordinates(),o=e.dresseur.getCoordinates();return o.x+o.tailleX/3>t.x&&o.x<t.mx&&o.y+o.tailleY/3>t.y&&o.y<t.my}showDebug(e){const t=h();t.fillStyle=v.ZonePerson;const o=e.dresseur.getCoordinates(),s=this.getCoordinates();t.fillRect(3*(s.x-o.x)+340,3*(s.y-o.y)+260,3*s.tailleX,3*s.tailleY)}};var A=class{constructor(e,t){this.nom=e,this.messages=t,this.showCount=0,this.context=h()}increaseMessage(){return this.showCount+=1,this.showCount===this.messages.length}showCurrentMessage(e){this.context.font=p.little,this.context.fillStyle=e.couleurPrefere,this.context.fillRect(50,480,800,150),this.context.fillStyle="#ffffff",this.context.fillText(`${this.nom} : `,60,510,780);const t=this.messages[this.showCount];t.split("\n").forEach((e,t)=>{this.context.fillText(e,80,550+25*t)})}},S=o(5),E=o.n(S);class M{constructor(e,t,o,s){this.nom=e,this.posX=t,this.posY=o,this.tailleX=32,this.tailleY=48,this.texte=["Il faut bien avoir quelque chose a dire.."],this.texteLooser=["J'ai perdu .."],this.pokemons=[],this.pcDeLeo=[],this.inventaire=[],this.argent=0,this.badges=0,this.isAgressive=0,this.zone=new T(this),this.idle=!0,this.num=M.nbDresseur,M.nbDresseur+=1;const i=m.load(E.a);this.texture=i,this.grandeTextureX=7,this.grandeTextureY=4,this.orientationInit=s,this.orientation=s,this.animationPosition=5,this.attaqueCanceled=!1}displayName(){console.log(`Person:${this.nom}`)}getName(){return this.nom}getNum(){return this.num}getGTX(){return this.grandeTextureX}getGTY(){return this.grandeTextureY}setGTX(e){this.grandeTextureX=e}setGTY(e){this.grandeTextureY=e}calculNextCase(){let e=this.posX,t=this.posY;switch(this.orientation){case 0:t+=1;break;case 1:e-=1;break;case 2:e+=1;break;case 3:t-=1;break;default:console.warn("Person.calculNextCase: no compatible option")}return{x:e,y:t}}isWalkable(e,t){return!this.isOnPosition(e,t)}parler(e){this.trouveOrientation(e),e.discussion=new A(this.nom,this.isAgressive?this.texteLooser:this.texte)}trouveOrientation(e){const t=e.dresseur.getCoordinates(),o=this.getCoordinates(),s=t.x-o.x,i=t.y-o.y;s<=i?this.setOrientation(s>0?0:1):this.setOrientation(i>0?2:3)}showPokemon(){this.pokemons.forEach(e=>{e.displayInfo()})}image(){return this.texture}addPokemon(e){this.pokemons.length<6?this.pokemons.push(e):(console.log("plus de place"),this.pcDeLeo.push(e))}getCoordinates(){return{x:this.posX,y:this.posY,tailleX:this.tailleX,tailleY:this.tailleY,mx:this.posX+this.tailleX/3,my:this.posY+this.tailleY/3}}afficheToi(e){const t=h(),o=e.dresseur.getCoordinates(),s=this.getCoordinates();a.dev&&a.getOption("dresseursAsDots")&&this.showDebug(e);const i=this.idle?0:32*this.animationPosition,n=48*this.orientation;t.drawImage(this.texture,i,n,s.tailleX,s.tailleY,3*(s.x-o.x)+340,3*(s.y-o.y)+260,s.tailleX,s.tailleY)}showDebug(e){const t=h(),o=e.dresseur.getCoordinates(),s=this.getCoordinates();t.fillStyle=v.Person,t.fillRect(3*(s.x-o.x)+340,3*(s.y-o.y)+260,s.tailleX,s.tailleY),t.fillStyle="black",t.fillRect(3*(s.x-o.x)+340-2,3*(s.y-o.y)+260-2,4,4),t.fillRect(3*(s.mx-o.x)+340-2,3*(s.my-o.y)+260-2,4,4),this.zone.showDebug(e)}isOnPosition(e,t){const o=this.getCoordinates();return e+11>o.x&&e<o.x+o.tailleX/3&&t+14>o.y&&t<o.y+o.tailleY/3}setTexture(e){this.texture=e}setTexte(e){this.texte=e}setTexteLooser(e){this.texteLooser=e}pokemonsEnVie(){const e=[];return this.pokemons.forEach(t=>{t.pdv>0&&e.push(t)}),e}echange(e,t){this.pokemons.forEach((o,s)=>{o===e&&this.pokemons.forEach((e,o)=>{if(e===t){const e=this.pokemons[s];this.pokemons[s]=this.pokemons[o],this.pokemons[o]=e}})})}soignePokemons(){this.pokemons.forEach(e=>{e.soigneToi()})}setOrientation(e){this.orientation=e}setOriginalOrientation(){this.orientation=this.orientationInit}getOrientation(){return this.orientation}walkOnZone(e){return this.zone.isWalkOn(e)}getDistance(){console.warn("Person.getDistance: wip")}getPokemon(e){return this.pokemons[e]}getNombrePokemon(){return this.pokemons.length}attaqueJoueur(e){console.log(`${this.nom} attaque`),e.setAdv(this),e.mode=1,e.hud.mode=1,this.parler(e)}isSauvage(){return!1}load(){}videPokemons(){this.pokemons=[]}loadPokemons(){}}M.nbDresseur=0;var N=M;var q=class{constructor(e,t,o,s,i){this.posX=e,this.posY=t,this.tailleX=o,this.tailleY=s,this.puissance=i}walkOn(e){return e.dresseur.posX>this.posX&&e.dresseur.posX<this.posX+this.tailleX&&e.dresseur.posY>this.posY&&e.dresseur.posY<this.posY+this.tailleY}getPuissance(){return this.puissance}showDebug(e){const{posX:t,posY:o}=e.dresseur,s=h();s.fillStyle="rgba(0, 255, 0, 0.5)",s.fillRect(3*this.posX-3*t+340,3*this.posY-3*o+280,3*this.tailleX,3*this.tailleY)}};var D=class{constructor(e,t,o,s,i,n){this.nom=e,this.texture=t,this.posX=o,this.posY=s,this.tailleX=i,this.tailleY=n,this.context=h()}afficheToi(e){const{posX:t,posY:o}=e.dresseur;this.context.drawImage(this.texture,3*(this.posX-t)+340,3*(this.posY-o)+280,this.tailleX,this.tailleY)}isWalkable(e,t){return!this.isOnPosition(e,t)}isOnPosition(e,t){return e>this.posX&&e<this.posX+this.tailleX/2.7&&t>this.posY&&t<this.posY+this.tailleY/2.5}showDebug(e){const{posX:t,posY:o}=e.dresseur,s=h();s.fillStyle="rgba(0, 0, 0, 0.5)",s.fillRect(3*this.posX-3*t+340,3*this.posY-3*o+280,this.tailleX,this.tailleY)}};var I=class{constructor(e,t,o,s,i){this.nom=e,this.coordX=t,this.coordY=o,this.tailleX=s,this.tailleY=i,this.walkable=!1}displayName(){console.log(`Objet: ${this.nom}`)}isWalkable(e,t){return!!this.walkable||!(e+11>this.coordX&&e<this.coordX+this.tailleX&&t+8>this.coordY&&t-8<this.coordY+this.tailleY)}showDebug(e){const{posX:t,posY:o}=e.dresseur,s=h();s.fillStyle="rgba(0, 0, 0, 0.5)",s.fillRect(3*this.coordX-3*t+340,3*this.coordY-3*o+280,3*this.tailleX,3*this.tailleY)}};var G=class{constructor(e,t,o,s,i,n,a){this.posX=e,this.posY=t,this.tailleX=o,this.tailleY=s,this.joueurX=i,this.joueurY=n,this.destination=a}getCoordinates(){return{x:this.posX,y:this.posY,tailleX:this.tailleX,tailleY:this.tailleY,mx:this.posX+this.tailleX,my:this.posY+this.tailleY}}walkOn(e){const t=this.getCoordinates(),o=e.dresseur.getCoordinates();return o.x+o.tailleX/3>t.x&&o.x<t.mx&&o.y+o.tailleY/3>t.y&&o.y<t.my}setLargeur(e){return this.tailleX=e,this}rejoindreDestination(e){switch(console.log(`Voyage to: '${this.destination}'`),this.destination){case"foret1":e.setGrille(0);break;case"ville2":e.setGrille(1);break;case"centreP1":e.setGrille(2);break;case"centreP2":e.setGrille(3);break;case"argenta":e.setGrille(4);break;case"pokeshopArgenta":e.setGrille(5);break;case"areneArgenta":e.setGrille(6);break;default:console.warn("rejoindreDestination: no compatible option")}e.dresseur.posX=this.joueurX,e.dresseur.posY=this.joueurY}showDebug(e){const t=h();t.fillStyle=v.Porte;const o=e.dresseur.getCoordinates(),s=this.getCoordinates();t.fillRect(3*(s.x-o.x)+340,3*(s.y-o.y)+260,3*s.tailleX,3*s.tailleY)}},R=o(6),H=o.n(R),X=o(2),Y=o.n(X),L=o(3),$=o.n(L),B=o(7),U=o.n(B),F=o(0),V=o.n(F);const W=["Bienvenue au centre pokémon","Veuillez nous confiez vos pokémons pour que nous puissions les soigner","1","1 .. ","1 .. 2","1 .. 2 ..","1 .. 2 .. 3","1 .. 2 .. 3   TADAM !","Nous avons soigné vos pokemons"];const z=(e,t)=>{!function(e){const t=new N("Mathias",20,-50,0,0,0);t.setTexture(m.load(Y.a)),t.setTexte(["Bienvenue dans ce jeu Pokemon.","Des pokemons ont étrangement disparus","Nous avons besoin de ton aide pour les retrouver, \nmais avant ca, je voudrais tester tes compétences","En garde !"]),t.setTexteLooser(["Tu me semble prêt à nous aider","Nos soupcons se porte sur la team rocket \nqui sévit souvent dans le secteur","N'hésite pas à les affronter si tu les croise, \nils trafiquent forcement quelque chose"]),t.setGTX(3),t.setGTY(3),t.addPokemon(y(5)),t.addPokemon(y(5));const o=new N("Spyros",-34,110,2);o.setTexture(m.load(Y.a)),o.setTexte(["La Team Rocket a apparement encore sévit.. Un combat?"]),o.setTexteLooser(["Bien joué, \nla prochaine fois je serais le vainqueur !","Je file au centre pokémon","à cause de toi\nmes pokémons sont mal en point.."]),o.setGTX(2),o.setGTY(9),o.addPokemon(y(5)),o.addPokemon(y(7));const s=new N("Quentin",225,-22,1);s.setTexture(m.load($.a)),s.setTexte(["Tu as entendu parler des disparitions de Pokemon ?","C'est forcement un coup de la Team Rocket!","Un petit entrainement ?"]),s.setTexteLooser(["Tu m'as eu, il faut encore que je m'entraine"]),s.setGTX(3),s.setGTY(5),s.addPokemon(y(5)),s.addPokemon(y(7));const i=new N("Billy",196,172,2);s.setTexture(m.load(Y.a)),i.setTexte(["Si tu ne peux pas me battre, \ntu vas te faire massacrer par la Team Rocket"]),i.setTexteLooser(["Bon, toi tu as peut etre tes chances"]),i.setGTX(3),i.setGTY(4),i.addPokemon(y(5)),i.addPokemon(y(7)),i.addPokemon(y(9));const n=new N("Theo",350,18,0);n.setTexture(m.load($.a)),n.setTexte(["J'avais un pokemon vraiment très fort, ","...mais il s'est fait capturer par la Team Rocket.."]),n.setTexteLooser(["Je ne me serais pas fait voler mon pokémon, \nje t'aurai battu très facilement.."]),n.setGTX(0),n.setGTY(0),n.addPokemon(y(13));const a=new N("Leo",650,194,0);a.setTexture(m.load(U.a)),a.setTexte(["Attention!, la Team Rocket est toute proche !","Je les ai vu embarqué un Pokémon volé\n Surement celui de Théo"]),a.setTexteLooser(["Tu m'as l'air bien préparé","Bon courage!"]),a.setGTX(0),a.setGTY(6),a.addPokemon(y(13)),e.ajouteDresseur(t),e.ajouteDresseur(s),e.ajouteDresseur(i),e.ajouteDresseur(n),e.ajouteDresseur(a),e.ajouteDresseur(o)}(e),function(e){const t=new N("Bad Guy1",686,34,0);t.setTexture(m.load(V.a)),t.setTexte(["Tiens toi! Donnes moi tes pokémons!"]),t.setTexteLooser(["La Team Rocket va t'anneantir!"]),t.addPokemon(y(7)),t.addPokemon(y(10)),t.addPokemon(y(10));const o=new N("Bad Guy2",740,20,3);o.setTexture(m.load(V.a)),o.setTexte(["Hey toi, tu vas voir!"]),o.setTexteLooser("Tu m'as battu, mais attend toi au pire!"),o.addPokemon(y(11)),o.addPokemon(y(12));const s=new N("Bad Guy3",844,76,2);s.setTexture(m.load(V.a)),s.setTexte(["Pas si vite, mes plutot ces pokemons dans mon sac!"]),s.setTexteLooser(["Ouais c'est facile aussi comme ca, tricheur.."]),s.addPokemon(y(17));const i=new N("Bad Guy4",1008,54,3);i.setTexture(m.load(V.a)),i.setTexte(["Tu ne pourras meme pas approcher notre chef!"]),i.setTexteLooser(["Notre chef va me venger!"]),i.addPokemon(y(9)),i.addPokemon(y(13)),i.addPokemon(y(15));const n=new N("Capitaine Rocket",1076,24,1);n.setTexture(m.load(V.a)),n.setTexte(["Et oui c'est moi qui retiens tout les pokemons! Mouhahaha"]),n.setTexteLooser(["Bravo, je vais redonner les pokemons a leurs proprietaires!"]),n.setGTX(9),n.setGTY(9),n.addPokemon(y(15)),n.addPokemon(y(15)),n.addPokemon(y(18)),n.addPokemon(y(20)),n.addPokemon(y(23)),e.ajouteDresseur(t),e.ajouteDresseur(o),e.ajouteDresseur(s),e.ajouteDresseur(i),e.ajouteDresseur(n)}(e),function(e){e.ajouteHerbe(new q(160,-64,78,48,3)),e.ajouteHerbe(new q(128,-58,32,26,3)),e.ajouteHerbe(new q(146,-32,14,16,3)),e.ajouteHerbe(new q(114,-62,12,14,5)),e.ajouteHerbe(new q(160,-16,78,18,5)),e.ajouteHerbe(new q(178,2,60,16,5)),e.ajouteHerbe(new q(192,18,32,16,7)),e.ajouteHerbe(new q(224,178,16,32,5)),e.ajouteHerbe(new q(206,196,82,14,5)),e.ajouteHerbe(new q(272,98,16,116,5)),e.ajouteHerbe(new q(272,118,64,42,5)),e.ajouteHerbe(new q(318,160,18,16,7)),e.ajouteHerbe(new q(368,34,62,30,7)),e.ajouteHerbe(new q(430,34,16,18,9)),e.ajouteHerbe(new q(402,2,30,32,10)),e.ajouteHerbe(new q(340,2,26,64,10)),e.ajouteHerbe(new q(272,-16,34,78,10)),e.ajouteHerbe(new q(306,36,10,46,9)),e.ajouteHerbe(new q(370,64,12,18,12)),e.ajouteHerbe(new q(544,162,80,14,12)),e.ajouteHerbe(new q(592,176,30,34,13)),e.ajouteHerbe(new q(654,178,32,34,14)),e.ajouteHerbe(new q(768,72,16,106,15)),e.ajouteHerbe(new q(754,148,14,30,15)),e.ajouteHerbe(new q(738,84,30,12,15)),e.ajouteHerbe(new q(786,64,32,14,15)),e.ajouteHerbe(new q(844,68,66,20,18)),e.ajouteHerbe(new q(880,38,144,40,18)),e.ajouteHerbe(new q(1006,84,44,12,20)),e.ajouteHerbe(new q(962,98,48,12,20)),e.ajouteHerbe(new q(914,-12,46,62,20)),e.ajouteHerbe(new q(994,-28,10,82,25)),e.ajouteHerbe(new q(978,-16,16,16,25)),e.ajouteHerbe(new q(1006,-62,144,30,25)),e.ajouteHerbe(new q(1136,-32,28,44,25)),e.ajouteHerbe(new q(1118,0,48,12,25)),e.ajouteHerbe(new q(1138,12,28,54,25)),e.ajouteHerbe(new q(1154,66,30,30,25)),e.ajouteHerbe(new q(1152,96,16,16,25)),e.ajouteHerbe(new q(1106,112,46,18,25)),e.ajouteHerbe(new q(1136,130,16,30,25)),e.ajouteHerbe(new q(1058,132,14,46,25)),e.ajouteHerbe(new q(1042,162,14,16,25)),e.ajouteHerbe(new q(1072,-28,68,92,20)),e.ajouteHerbe(new q(1072,-28,68,92,20)),e.ajouteHerbe(new q(1038,18,72,42,20))}(e),function(e){e.ajouteObjet(new I("Collision",1230,-106,14,356)),e.ajouteObjet(new I("Collision",1070,218,168,18)),e.ajouteObjet(new I("Collision",-120,-100,18,342)),e.ajouteObjet(new I("Collision",464,186,34,30)),e.ajouteObjet(new I("Collision",560,182,34,34)),e.ajouteObjet(new I("Collision",468,182,26,4)),e.ajouteObjet(new I("Collision",-50,4,68,46)),e.ajouteObjet(new I("Collision",-112,-92,350,28)),e.ajouteObjet(new I("Collision",-30,-44,12,14)),e.ajouteObjet(new I("Collision",64,-16,14,30)),e.ajouteObjet(new I("Collision",2,52,12,12)),e.ajouteObjet(new I("Collision",20,38,22,38)),e.ajouteObjet(new I("Collision",64,62,32,30)),e.ajouteObjet(new I("Collision",-112,40,32,36)),e.ajouteObjet(new I("Collision",-112,86,30,96)),e.ajouteObjet(new I("Collision",-110,182,92,42)),e.ajouteObjet(new I("Collision",-78,178,2,4)),e.ajouteObjet(new I("Collision",-48,112,14,28)),e.ajouteObjet(new I("Collision",-32,130,14,26)),e.ajouteObjet(new I("Collision",-16,118,64,38)),e.ajouteObjet(new I("Collision",46,146,34,28)),e.ajouteObjet(new I("Collision",82,150,60,76)),e.ajouteObjet(new I("Collision",142,184,64,42)),e.ajouteObjet(new I("Collision",38,38,8,38)),e.ajouteObjet(new I("Collision",96,48,14,28)),e.ajouteObjet(new I("Collision",96,96,14,28)),e.ajouteObjet(new I("Collision",130,116,12,12)),e.ajouteObjet(new I("Collision",130,68,28,42)),e.ajouteObjet(new I("Collision",192,70,28,38)),e.ajouteObjet(new I("Collision",238,-66,34,256)),e.ajouteObjet(new I("Collision",76,146,12,4)),e.ajouteObjet(new I("Collision",302,-100,200,64)),e.ajouteObjet(new I("Collision",128,16,22,30)),e.ajouteObjet(new I("Collision",144,26,30,34)),e.ajouteObjet(new I("Collision",160,126,16,34)),e.ajouteObjet(new I("Collision",206,144,20,30)),e.ajouteObjet(new I("Collision",206,218,48,0)),e.ajouteObjet(new I("Collision",206,214,212,16)),e.ajouteObjet(new I("Collision",-22,182,14,38)),e.ajouteObjet(new I("Collision",-18,216,108,14)),e.ajouteObjet(new I("Collision",92,114,22,14)),e.ajouteObjet(new I("Collision",430,-4,34,34)),e.ajouteObjet(new I("Collision",302,-6,38,38)),e.ajouteObjet(new I("Collision",88,46,22,34)),e.ajouteObjet(new I("Collision",-36,112,10,44)),e.ajouteObjet(new I("Collision",288,152,30,72)),e.ajouteObjet(new I("Collision",336,120,32,106)),e.ajouteObjet(new I("Collision",368,142,14,32)),e.ajouteObjet(new I("Collision",358,182,40,46)),e.ajouteObjet(new I("Collision",398,214,292,12)),e.ajouteObjet(new I("Collision",688,184,194,42)),e.ajouteObjet(new I("Collision",880,122,128,104)),e.ajouteObjet(new I("Collision",1004,148,36,76)),e.ajouteObjet(new I("Collision",1036,182,34,42)),e.ajouteObjet(new I("Collision",1072,152,32,40)),e.ajouteObjet(new I("Collision",1122,180,16,12)),e.ajouteObjet(new I("Collision",1136,176,16,28)),e.ajouteObjet(new I("Collision",1120,142,14,32)),e.ajouteObjet(new I("Collision",1122,72,28,38)),e.ajouteObjet(new I("Collision",1024,46,30,32)),e.ajouteObjet(new I("Collision",1050,60,24,34)),e.ajouteObjet(new I("Collision",1086,48,18,28)),e.ajouteObjet(new I("Collision",538,118,116,28)),e.ajouteObjet(new I("Collision",532,146,138,16)),e.ajouteObjet(new I("Collision",704,108,14,52)),e.ajouteObjet(new I("Collision",624,158,0,0)),e.ajouteObjet(new I("Collision",514,168,26,38)),e.ajouteObjet(new I("Collision",564,184,28,30)),e.ajouteObjet(new I("Collision",624,160,30,48)),e.ajouteObjet(new I("Collision",642,102,14,48)),e.ajouteObjet(new I("Collision",640,6,28,104)),e.ajouteObjet(new I("Collision",646,-44,54,60)),e.ajouteObjet(new I("Collision",692,-44,88,32)),e.ajouteObjet(new I("Collision",762,-18,18,80)),e.ajouteObjet(new I("Collision",702,50,76,22)),e.ajouteObjet(new I("Collision",776,-8,102,72)),e.ajouteObjet(new I("Collision",818,50,26,78)),e.ajouteObjet(new I("Collision",848,94,14,32)),e.ajouteObjet(new I("Collision",800,78,22,36)),e.ajouteObjet(new I("Collision",272,62,36,36)),e.ajouteObjet(new I("Collision",300,82,22,28)),e.ajouteObjet(new I("Collision",288,100,22,12)),e.ajouteObjet(new I("Collision",722,152,0,2)),e.ajouteObjet(new I("Collision",722,152,32,32)),e.ajouteObjet(new I("Collision",784,152,64,32)),e.ajouteObjet(new I("Collision",930,-12,34,42)),e.ajouteObjet(new I("Collision",956,0,34,30)),e.ajouteObjet(new I("Collision",1010,-10,28,40)),e.ajouteObjet(new I("Collision",1032,-4,38,18)),e.ajouteObjet(new I("Collision",1088,-10,30,42)),e.ajouteObjet(new I("Collision",1104,28,28,32)),e.ajouteObjet(new I("Collision",1074,86,28,40)),e.ajouteObjet(new I("Collision",1050,90,32,12)),e.ajouteObjet(new I("Collision",136,150,14,34)),e.ajouteObjet(new I("Collision",382,64,52,30)),e.ajouteObjet(new I("Collision",430,52,36,26)),e.ajouteObjet(new I("Collision",434,98,46,26)),e.ajouteObjet(new I("Collision",454,86,22,18)),e.ajouteObjet(new I("Collision",516,36,22,126)),e.ajouteObjet(new I("Collision",498,42,20,72)),e.ajouteObjet(new I("Collision",466,6,40,58)),e.ajouteObjet(new I("Collision",460,46,10,16)),e.ajouteObjet(new I("Collision",316,56,36,44)),e.ajouteObjet(new I("Collision",366,-18,30,50)),e.ajouteObjet(new I("Collision",302,-50,192,46)),e.ajouteObjet(new I("Collision",384,104,28,44)),e.ajouteObjet(new I("Collision",738,102,24,40)),e.ajouteObjet(new I("Collision",796,98,68,30)),e.ajouteObjet(new I("Collision",884,88,28,34)),e.ajouteObjet(new I("Collision",878,110,130,18)),e.ajouteObjet(new I("Collision",1040,128,14,30)),e.ajouteObjet(new I("Collision",1154,138,58,36)),e.ajouteObjet(new I("Collision",1158,130,18,14)),e.ajouteObjet(new I("Collision",1184,36,26,44)),e.ajouteObjet(new I("Collision",1166,-10,32,40)),e.ajouteObjet(new I("Collision",1150,12,22,34)),e.ajouteObjet(new I("Collision",1122,-34,12,34)),e.ajouteObjet(new I("Collision",1150,-48,16,16)),e.ajouteObjet(new I("Collision",1038,-30,34,44)),e.ajouteObjet(new I("Collision",462,144,18,30)),e.ajouteObjet(new I("Collision",704,138,50,26)),e.ajouteObjet(new I("Collision",752,102,16,42)),e.ajouteObjet(new I("Collision",864,-8,50,46)),e.ajouteObjet(new I("Collision",928,-52,14,34)),e.ajouteObjet(new I("Collision",830,-96,406,34)),e.ajouteObjet(new I("Collision",976,54,30,42)),e.ajouteObjet(new I("Collision",912,96,16,14)),e.ajouteObjet(new I("Collision",704,-12,32,14)),e.ajouteObjet(new I("Collision",720,-2,14,18)),e.ajouteObjet(new I("Collision",668,16,22,14)),e.ajouteObjet(new I("Collision",16,184,32,32)),e.ajouteObjet(new I("Collision",430,112,46,18)),e.ajouteObjet(new I("Collision",716,28,42,44)),e.ajouteObjet(new I("Collision",892,-102,22,134)),e.ajouteObjet(new I("Collision",912,96,18,14)),e.ajouteObjet(new I("Collision",224,-96,50,28))}(e);const o=m.load(H.a),s=new D("Centre Pokemon",o,-122,-40,120,100);e.ajoutePorte(new G(-100,0,10,10,44,100,"centreP1",t)),e.ajouteBatiment(s)},K=e=>{e.ajouteObjet(new I("Collision",800,688,68,68)),e.ajouteObjet(new I("Collision",640,746,118,110)),e.ajouteObjet(new I("Collision",698,926,118,96)),e.ajouteObjet(new I("Collision",548,928,116,92)),e.ajouteObjet(new I("Collision",370,750,116,110)),e.ajouteObjet(new I("Collision",492,748,116,108)),e.ajouteObjet(new I("Collision",424,910,118,108)),e.ajouteObjet(new I("Collision",116,636,70,68)),e.ajouteObjet(new I("Collision",216,568,70,68)),e.ajouteObjet(new I("Collision",418,548,86,78)),e.ajouteObjet(new I("Collision",508,554,116,76)),e.ajouteObjet(new I("Collision",684,560,86,72)),e.ajouteObjet(new I("Collision",814,518,84,78)),e.ajouteObjet(new I("Collision",790,408,88,84)),e.ajouteObjet(new I("Collision",884,364,150,98)),e.ajouteObjet(new I("Collision",248,842,118,110))},J=(e,t)=>{e.ajoutePorte(new G(20,120,35,20,-72,12,"foret1",t));const o=new N("Infirmiere",36,48,2);o.isAgressive=!0,o.setTexteLooser(W),o.setGTX(3),o.setGTY(4),e.ajouteDresseur(o),e.ajouteObjet(new I("Collision",100,80,36,34)),e.ajouteObjet(new I("Collision",-62,128,198,8)),e.ajouteObjet(new I("Collision",-14,12,104,40)),e.ajouteObjet(new I("Collision",82,4,22,24)),e.ajouteObjet(new I("Collision",-62,12,60,12)),e.ajouteObjet(new I("Collision",-82,12,24,20)),e.ajouteObjet(new I("Collision",-82,22,16,112)),e.ajouteObjet(new I("Collision",-72,124,16,12)),e.ajouteObjet(new I("Collision",-67,70,26,38)),e.ajouteObjet(new I("Collision",98,4,46,14)),e.ajouteObjet(new I("Collision",138,14,18,20)),e.ajouteObjet(new I("Collision",146,24,8,104)),e.ajouteObjet(new I("Collision",128,128,32,8)),e.ajouteObjet(new I("Collision",138,114,18,28))},_=(e,t)=>{e.ajoutePorte(new G(20,120,35,20,18,198,"argenta",t)),e.ajouteObjet(new I("Collision",100,80,36,34)),e.ajouteObjet(new I("Collision",-62,128,198,8)),e.ajouteObjet(new I("Collision",-14,12,104,40)),e.ajouteObjet(new I("Collision",82,4,22,24)),e.ajouteObjet(new I("Collision",-62,12,60,12)),e.ajouteObjet(new I("Collision",-82,12,24,20)),e.ajouteObjet(new I("Collision",-82,22,16,112)),e.ajouteObjet(new I("Collision",-72,124,16,12)),e.ajouteObjet(new I("Collision",-67,70,26,38)),e.ajouteObjet(new I("Collision",98,4,46,14)),e.ajouteObjet(new I("Collision",138,14,18,20)),e.ajouteObjet(new I("Collision",146,24,8,104)),e.ajouteObjet(new I("Collision",128,128,32,8)),e.ajouteObjet(new I("Collision",138,114,18,28))},Z=(e,t)=>{e.ajoutePorte(new G(12,178,5,5,44,100,"centreP2").setLargeur(10),t),e.ajoutePorte(new G(190,52,5,5,10,42,"pokeshopArgenta").setLargeur(10),t),e.ajoutePorte(new G(-18,30,5,5,-60,42,"areneArgenta").setLargeur(8),t),e.ajouteObjet(new I("Batiment",-26,102,86,62)),e.ajouteObjet(new I("Batiment",22,162,38,12)),e.ajouteObjet(new I("Batiment",-26,160,38,16)),e.ajouteObjet(new I("Batiment",150,-4,70,56)),e.ajouteObjet(new I("Batiment",198,48,22,12)),e.ajouteObjet(new I("Batiment",150,48,40,12)),e.ajouteObjet(new I("Collision",54,102,38,72)),e.ajouteObjet(new I("Collision",66,90,16,12)),e.ajouteObjet(new I("Collision",-46,86,14,20)),e.ajouteObjet(new I("Collision",-58,102,40,74)),e.ajouteObjet(new I("Collision",-176,76,268,18)),e.ajouteObjet(new I("Collision",-140,196,88,58)),e.ajouteObjet(new I("Collision",150,116,166,44)),e.ajouteObjet(new I("Collision",246,156,80,18)),e.ajouteObjet(new I("Collision",150,150,86,24)),e.ajouteObjet(new I("Collision",150,156,14,96)),e.ajouteObjet(new I("Collision",156,236,16,18)),e.ajouteObjet(new I("Collision",310,236,22,16)),e.ajouteObjet(new I("Collision",318,156,14,94)),e.ajouteObjet(new I("Collision",160,108,20,12)),e.ajouteObjet(new I("Collision",194,108,16,12)),e.ajouteObjet(new I("Collision",224,108,18,14)),e.ajouteObjet(new I("Collision",256,108,20,18)),e.ajouteObjet(new I("Collision",288,108,20,16)),e.ajouteObjet(new I("Collision",218,16,32,46)),e.ajouteObjet(new I("Collision",244,-108,88,58)),e.ajouteObjet(new I("Collision",134,-148,118,16)),e.ajouteObjet(new I("Collision",190,-178,62,14)),e.ajouteObjet(new I("Collision",190,-212,14,42)),e.ajouteObjet(new I("Collision",-74,-240,264,76)),e.ajouteObjet(new I("Collision",-74,-166,180,18)),e.ajouteObjet(new I("Collision",-10,-150,54,20)),e.ajouteObjet(new I("Collision",22,-132,22,8)),e.ajouteObjet(new I("Collision",-10,-132,24,8)),e.ajouteObjet(new I("Collision",-204,-148,56,16)),e.ajouteObjet(new I("Collision",-122,-50,38,78)),e.ajouteObjet(new I("Collision",-92,-20,28,16)),e.ajouteObjet(new I("Collision",-76,-52,120,74)),e.ajouteObjet(new I("Collision",-10,16,12,10)),e.ajouteObjet(new I("Collision",-34,16,16,10)),e.ajouteObjet(new I("Collision",32,-22,34,20)),e.ajouteObjet(new I("Collision",54,-52,38,84)),e.ajouteObjet(new I("Collision",78,24,14,66))},Q=(e,t)=>{e.ajoutePorte(new G(0,54,5,5,190,65,"argenta").setLargeur(10),t),e.ajouteObjet(new I("Collision",-52,20,40,24)),e.ajouteObjet(new I("Collision",44,-12,40,54)),e.ajouteObjet(new I("Collision",92,-12,24,54)),e.ajouteObjet(new I("Collision",92,-46,24,16)),e.ajouteObjet(new I("Collision",100,-34,16,12)),e.ajouteObjet(new I("Collision",44,-40,56,12)),e.ajouteObjet(new I("Collision",-8,-50,66,12)),e.ajouteObjet(new I("Collision",-68,-52,72,64)),e.ajouteObjet(new I("Collision",108,-38,10,86)),e.ajouteObjet(new I("Collision",92,44,22,18)),e.ajouteObjet(new I("Collision",10,54,100,8)),e.ajouteObjet(new I("Collision",-60,54,62,10)),e.ajouteObjet(new I("Collision",-64,46,10,8)),e.ajouteObjet(new I("Collision",-58,52,12,10)),e.ajouteObjet(new I("Collision",-70,-2,10,56))},ee=(e,t)=>{e.ajoutePorte(new G(-68,45,5,5,-16,40,"argenta").setLargeur(12),t),e.ajouteObjet(new I("Collision",-110,-22,34,30)),e.ajouteObjet(new I("Collision",-110,-74,34,28)),e.ajouteObjet(new I("Collision",-48,-68,36,24)),e.ajouteObjet(new I("Collision",-48,-38,72,60)),e.ajouteObjet(new I("Collision",-4,-98,34,84)),e.ajouteObjet(new I("Collision",-58,-126,62,46)),e.ajouteObjet(new I("Collision",-128,-126,62,34)),e.ajouteObjet(new I("Collision",-6,20,14,38)),e.ajouteObjet(new I("Collision",-124,-90,48,62)),e.ajouteObjet(new I("Collision",-136,-42,18,62)),e.ajouteObjet(new I("Collision",-122,12,48,10)),e.ajouteObjet(new I("Collision",-38,20,18,20)),e.ajouteObjet(new I("Collision",-102,20,16,20)),e.ajouteObjet(new I("Collision",-120,-94,4,6)),e.ajouteObjet(new I("Collision",-120,-92,4,2)),e.ajouteObjet(new I("Collision",-128,-172,130,14)),e.ajouteObjet(new I("Collision",-112,-166,36,34)),e.ajouteObjet(new I("Collision",-48,-164,38,34)),e.ajouteObjet(new I("Collision",-6,-162,14,52)),e.ajouteObjet(new I("Collision",-126,-178,10,86)),e.ajouteObjet(new I("Collision",-132,54,64,4)),e.ajouteObjet(new I("Collision",-56,54,62,6))},te={CONFIRM:65,BACK:66,PAUSE:80,LEFT:37,RIGHT:39,UP:38,DOWN:40,C:67,H:72};var oe=te;const se={dresseurs:1,pokemons:2,discussions:3,menuSelection:4,attaque:5,discussions_end:6};var ie=se;const ne={PAUSE:0,DISCUSSION:1,FAIL:9,INFO:10,SUCCESS:11,WAIT:12};var ae=ne;const le={global:0,attaques:1,pokemons:2,objets:3};var re=le;function ue(e){e.fillStyle=O.LightGrey,e.fillRect(50,480,800,155)}function he(e,t,o){e.fillStyle=t.couleurPrefere,e.fillRect(60,490,260,135),e.fillStyle=O.Black,e.fillText("Que voulez vous faire ?",70,565),e.fillStyle=0===o?O.LighterGrey:O.DarkGrey,e.fillRect(340,490,240,65),e.fillStyle=1===o?O.LighterGrey:O.DarkGrey,e.fillRect(340,560,240,65),e.fillStyle=2===o?O.LighterGrey:O.DarkGrey,e.fillRect(590,490,240,65),e.fillStyle=3===o?O.LighterGrey:O.DarkGrey,e.fillRect(590,560,240,65),e.fillStyle=O.Black,e.fillText("Attaque",360,530),e.fillText("Pokemons",360,600),e.fillText("Objets",610,530),e.fillText("Fuite",610,600)}var de=class{constructor(e,t){this.player=e,this.combat=t,this.mode=re.global,this.selection=0,this.selectionAttaque=0,this.selectionObjet=0,this.selectionPokemon=0}afficheToi(){const e=h();switch(this.mode){case re.global:ue(e),he(e,this.player,this.selection);break;case 1:ue(e),he(e,this.player,this.selection),e.fillStyle=O.LightGrey,e.fillRect(360,280,320,370),e.fillStyle=this.player.couleurPrefere,e.fillRect(380,290+70*this.selectionAttaque,280,70),e.fillStyle=O.Black,this.player.dresseur.getPokemon(0).attaques.map(e=>e.getName()).forEach((t,o)=>{o<4&&e.fillText(t,390,330+70*o,270)}),e.fillText("Retour",390,610,270);break;case re.pokemons:ue(e),he(e,this.player,this.selection),this.player.dresseur.pokemons.length,e.fillStyle=O.LightGrey,e.fillRect(360,220,320,70*(this.player.dresseur.pokemons.length+1)+20),e.fillStyle=this.player.couleurPrefere,e.fillRect(380,230+70*this.selectionPokemon,280,70),e.fillStyle=O.Black,this.player.dresseur.pokemons.forEach((t,o)=>{e.fillText(t.getName(),390,270+70*o,270)}),e.fillText("Retour",390,200+70*(this.player.dresseur.pokemons.length+1),270);break;case re.objets:ue(e),he(e,this.player,this.selection),e.fillStyle=O.LightGrey,e.fillRect(360,280,320,370),e.fillStyle=this.player.couleurPrefere,e.fillRect(380,290+70*this.selectionObjet,280,70),e.fillStyle=O.Black,e.fillText("Potion : 0",390,330,270),e.fillText("Pokeball",390,400,270),e.fillText("Retour",390,610,270);break;default:console.error("MenuCombat.afficheToi : no compatible option")}}changeSelection(e){switch(this.mode){case re.global:if(e===oe.DOWN||e===oe.UP)switch(this.selection){case 0:this.selection=1;break;case 1:this.selection=0;break;case 2:this.selection=3;break;case 3:this.selection=2;break;default:console.error("MenuCombat.afficheToi.inner1 : no compatible option")}else if(e===oe.LEFT||e===oe.RIGHT)switch(this.selection){case 0:this.selection=2;break;case 1:this.selection=3;break;case 2:this.selection=0;break;case 3:this.selection=1;break;default:console.error("MenuCombat.afficheToi.inner2 : no compatible option")}break;case re.attaques:switch(e){case oe.DOWN:this.selectionAttaque+=1,this.selectionAttaque>4&&(this.selectionAttaque=0);break;case oe.UP:this.selectionAttaque-=1,this.selectionAttaque<0&&(this.selectionAttaque=4);break;default:console.error("MenuCombat.afficheToi : no compatible option")}break;case re.pokemons:switch(e){case oe.DOWN:this.selectionPokemon+=1,this.selectionPokemon>this.player.dresseur.pokemons.length&&(this.selectionPokemon=0);break;case oe.UP:this.selectionPokemon-=1,this.selectionPokemon<0&&(this.selectionPokemon=this.player.dresseur.pokemons.length);break;default:console.error("MenuCombat.afficheToi : no compatible option")}break;case re.objets:switch(e){case oe.DOWN:this.selectionObjet+=1,this.selectionObjet>4&&(this.selectionObjet=0);break;case oe.UP:this.selectionObjet-=1,this.selectionObjet<0&&(this.selectionObjet=4);break;default:console.error("MenuCombat.afficheToi : no compatible option")}break;default:console.error("MenuCombat.afficheToi : no compatible option")}}valide(){const e=this.player.dresseur.getPokemon(0),t=this.player.getAdv().getPokemon(0);switch(this.mode){case re.global:switch(this.selection){case 0:this.mode=re.attaques;break;case 1:this.mode=re.pokemons;break;case 2:this.mode=re.objets;break;case 3:this.player.getAdv().isSauvage()?Math.random()>.5?this.combat.finCombat():(this.combat.infos.push("Vous n'avez pas réussi à prendre la fuite"),this.combat.mode=ie.attaque,this.player.dresseur.attaqueCanceled=!0,this.mode=re.global):(this.combat.infos.push("Vous ne pouvez pas fuir lors d'un combat contre un dresseur"),this.combat.mode=ie.attaque,this.player.dresseur.attaqueCanceled=!0,this.mode=re.global);break;default:console.error("MenuCombat.afficheToi : no compatible option")}break;case re.attaques:this.selectionAttaque<4&&(this.combat.mode=ie.attaque,e.setSelectAttaque(this.selectionAttaque)),this.mode=re.global;break;case re.pokemons:if(this.selectionPokemon!==this.player.dresseur.pokemons.length&&this.player.dresseur.getPokemon(this.selectionPokemon)!==e){const t=this.player.dresseur.getPokemon(this.selectionPokemon);this.player.dresseur.echange(t,e),this.combat.infos.push(`Vous échangez ${e.getName()} par ${t.getName()}`),this.mode=re.global,this.combat.mode=ie.attaque,this.player.dresseur.attaqueCanceled=!0}else this.mode=re.global;break;case re.objets:switch(this.selectionObjet){case 0:break;case 1:this.player.dresseur.attaqueCanceled=!0,this.player.getAdv().isSauvage()?Math.random()>.8||a.getOption("masterball")?(console.log("WIN capture pokemon"),this.player.addPokemon(t),this.player.mode=r.HUD,this.player.hud.mode=ae.SUCCESS,this.player.setPokemonCapture(t)):(console.log(t),this.combat.infos.push(`Le ${t.getName()} à réussi a sortir de la pokéball.`),this.mode=re.global,this.combat.mode=ie.attaque):(this.combat.infos.push("Vous ne pouvez pas utiliser de pokéball sur un Pokémon d'un autre dresseur"),this.mode=re.global,this.combat.mode=ie.attaque,this.player.dresseur.attaqueCanceled=!0);break;case 2:break;case 4:this.mode=re.global;break;default:console.error("MenuCombat.afficheToi : no compatible option")}break;default:console.error("MenuCombat.afficheToi : no compatible option")}}},ce=o(8),me=o.n(ce);const pe={};pe.short=5,pe.middle=10,pe.long=20,console.log("A"+"B");var be=class{constructor(e){this.player=e,this.joueurs=[this.player.dresseur,this.player.getAdv()],this.tour=this.joueurs[0].getPokemon(0).agi-this.joueurs[1].getPokemon(0).agi>0?0:1,this.checkTourComplete=0,this.mode=ie.dresseurs,this.menu=new de(e,this),this.time=0,this.infos=[]}runTour(){this.mode===ie.attaque&&this.handleAttaque(),this.mode===ie.dresseurs&&(this.time+=1,this.time>pe.short&&(this.mode=ie.pokemons,this.time=0)),this.mode===ie.pokemons&&(this.time+=1,this.time>pe.middle&&(this.mode=ie.menuSelection,this.time=0)),this.mode,ie.discussions,this.mode,ie.menuSelection}finCombat(){this.mode=ie.discussions_end,this.infos.push("Bravo, vous avez gagné ce combat")}handleAttaque(){const{currentDresseur:e,currentPokemon:t,currentPokemonName:o}=this.initAttaqueAgressor(),{adversaire:s,advPokemon:i,advPokemonName:n}=this.initAttaqueDefensor();if(e!==this.player.dresseur){const e=Math.round(4*Math.random());t.setSelectAttaque(e)}if(t.pdv>0&&i.pdv>0){if(e.attaqueCanceled)e.attaqueCanceled=!1;else{const e=a.getOption("invincible")&&s===this.player.dresseur,n=t.attaque(i,e);this.infos.push(`${o} attaque\n${t.getSelectAttaque().getName()}\net inflige ${n} dégats`)}if(this.checkTourComplete+=1,this.checkTourComplete>1&&(this.checkTourComplete=0,this.mode=ie.discussions),i.pdv<=0){i.pdv=0,this.infos.push(`${n} a epuisé ses pdv`);const a=Math.round(i.lvl**2*50*(Math.random()+.5)/t.lvl);this.infos.push(`${o} gagne ${a} pts d'experiences`),t.addExperience(a,this);const l=s.pokemonsEnVie();l.length>0?(this.infos.push(`${s.getName()} change de pokemon`),this.mode=ie.discussions,s.echange(l[0],i),this.tour=1-this.tour):(s.isAgressive=1,s===this.player.dresseur?(e.soignePokemons(),e.setOriginalOrientation(),this.player.onLose()):this.finCombat())}}this.tour=1-this.tour}initAttaqueAgressor(){const e=this.joueurs[this.tour],t=e.getPokemon(0),o=t.getName();return{currentDresseur:e,currentPokemon:t,currentPokemonName:o}}initAttaqueDefensor(){const e=this.joueurs[1-this.tour],t=e.getPokemon(0),o=t.getName();return{adversaire:e,advPokemon:t,advPokemonName:o}}drawCombat(){const e=h();if(e.fillStyle=this.player.couleurPrefere,e.fillRect(50,50,800,550),e.fillStyle="#000000",this.mode===ie.dresseurs){this.player.getAdv().isSauvage()?this.player.getAdv().getPokemon(0).afficheToiCombat():e.drawImage(this.player.charSprites,80*this.player.getAdv().getGTX(),80*this.player.getAdv().getGTY(),80,80,600,50,250,250),e.font=p.medium,e.fillText(`Adversaire : ${this.player.getAdv().getName()}`,65,100);const t=m.load(me.a);e.drawImage(t,0,0,70,75,50,250,400,400),e.font=p.medium,e.fillText("Combat!!",365,300)}this.mode===ie.pokemons&&(e.font=p.little,e.fillText(this.player.getAdv().getPokemon(0).getName(),65,140),e.fillText(`Niveau :${this.player.getAdv().getPokemon(0).lvl}`,90,170),e.fillText(`Pdv :${this.player.getAdv().getPokemon(0).pdv}/${this.player.getAdv().getPokemon(0).pdvMax}`,90,190,200),this.player.getAdv().getPokemon(0).afficheToiCombat(),e.font=p.little,e.fillText(this.player.dresseur.getPokemon(0).getName(),450,400),e.fillText(`Niveau :${this.player.dresseur.getPokemon(0).lvl}`,500,430),e.fillText(`Pdv :${this.player.dresseur.getPokemon(0).pdv}/${this.player.dresseur.getPokemon(0).pdvMax}`,500,450,200),this.player.dresseur.getPokemon(0).getBackSprite()),this.mode===ie.discussions&&(e.font=p.little,e.fillText(this.player.getAdv().getPokemon(0).getName(),65,140),e.fillText(`Niveau :${this.player.getAdv().getPokemon(0).lvl}`,90,170),e.fillText(`Pdv :${this.player.getAdv().getPokemon(0).pdv}/${this.player.getAdv().getPokemon(0).pdvMax}`,90,190,200),this.player.getAdv().getPokemon(0).afficheToiCombat(),e.font=p.little,e.fillText(this.player.dresseur.getPokemon(0).getName(),450,400),e.fillText(`Niveau :${this.player.dresseur.getPokemon(0).lvl}`,500,430),e.fillText(`Pdv :${this.player.dresseur.getPokemon(0).pdv}/${this.player.dresseur.getPokemon(0).pdvMax}`,500,450,200),this.player.dresseur.getPokemon(0).getBackSprite(),e.fillStyle="#aaaaaa",e.fillRect(50,450,800,30+25*this.infos.length),e.fillStyle="#000000",e.font=p.little,this.infos.forEach((t,o)=>{e.fillText(t,80,485+25*o)})),this.mode===ie.menuSelection&&(e.font=p.little,e.fillText(this.player.getAdv().getPokemon(0).getName(),65,140),e.fillText(`Niveau :${this.player.getAdv().getPokemon(0).lvl}`,90,170),e.fillText(`Pdv :${this.player.getAdv().getPokemon(0).pdv}/${this.player.getAdv().getPokemon(0).pdvMax}`,90,190,200),this.player.getAdv().getPokemon(0).afficheToiCombat(),e.font=p.little,e.fillText(this.player.dresseur.getPokemon(0).getName(),450,400),e.fillText(`Niveau :${this.player.dresseur.getPokemon(0).lvl}`,500,430),e.fillText(`Pdv :${this.player.dresseur.getPokemon(0).pdv}/${this.player.dresseur.getPokemon(0).pdvMax}`,500,450,200),this.player.dresseur.getPokemon(0).getBackSprite(),this.menu.afficheToi()),this.mode,ie.attaque,this.mode===ie.discussions_end&&(e.font=p.little,e.fillText(this.player.getAdv().getPokemon(0).getName(),65,140),e.fillText(`Niveau :${this.player.getAdv().getPokemon(0).lvl}`,90,170),e.fillText(`Pdv :${this.player.getAdv().getPokemon(0).pdv}/${this.player.getAdv().getPokemon(0).pdvMax}`,90,190,200),e.font=p.little,e.fillText(this.player.dresseur.getPokemon(0).getName(),450,400),e.fillText(`Niveau :${this.player.dresseur.getPokemon(0).lvl}`,500,430),e.fillText(`Pdv :${this.player.dresseur.getPokemon(0).pdv}/${this.player.dresseur.getPokemon(0).pdvMax}`,500,450,200),this.player.dresseur.getPokemon(0).getBackSprite(),e.fillStyle="#aaaaaa",e.fillRect(50,450,800,30+25*this.infos.length),e.fillStyle="#000000",e.font=p.little,this.infos.forEach((t,o)=>{e.fillText(t,80,485+25*o)}))}gestionEvenement(e){this.mode===ie.menuSelection&&(e===oe.CONFIRM?this.menu.valide():this.menu.changeSelection(e)),this.mode===ie.discussions&&e===oe.CONFIRM&&(this.mode=ie.menuSelection,this.infos=[]),this.mode===ie.discussions_end&&e===oe.CONFIRM&&(this.joueurs[1].isSauvage()?this.player.mode=r.MAP:(this.joueurs[1].parler(this.player),this.player.mode=r.HUD,this.player.hud.mode=ae.DISCUSSION))}};class fe{constructor(e){this.pokemon=e,this.isAgressive=!1}getPokemon(){return this.pokemon}pokemonsEnVie(){return this.pokemon.pdv>0?[this.pokemon]:[]}getName(){return this.pokemon.getName()}soignePokemons(){this.pokemon.soigneToi()}setOriginalOrientation(){}isSauvage(){return!0}}class we{constructor(e,t){this.player=e,this.terrain=t,this.objets=[],this.dresseurs=[],this.batiments=[],this.pnjs=[],this.portes=[],this.herbes=[],this.num=we.nbG,we.nbG+=1}show(){this.drawTerrain(),this.afficheBatiments(this.player),this.drawDresseurs(),this.drawMonDresseur()}saveDresseurs(){}ajouteObjet(e){this.objets.push(e)}ajoutePorte(e){this.portes.push(e)}ajouteHerbe(e){this.herbes.push(e)}ajouteDresseur(e){this.dresseurs.push(e),this.objets.push(e)}ajouteBatiment(e){this.batiments.push(e),this.objets.push(e)}afficheBatiments(e){this.batiments.forEach(t=>{t.afficheToi(e)})}displayObjetConsole(){this.objets.forEach(e=>{e.displayName()})}isWalkable(e,t){return!this.objets.some(o=>!o.isWalkable(e,t))}checkWalkOnPorte(){this.portes.forEach(e=>{e.walkOn(this.player)&&(console.log("Grille.checkWalkOnPorte: porte colision detected"),a.getOption("noTravel")||e.rejoindreDestination(this.player))})}checkWalkOnHerbes(){this.herbes.forEach(e=>{e.walkOn(this.player)&&(console.log("Grille.checkWalkOnHerbes: herbe colision detected"),Math.random()>.95&&!a.getOption("noWildPokemon")&&function(e,t){const o=y(t),s=new fe(o);e.setAdv(s),e.mode=2,e.combat=new be(e)}(this.player,e.getPuissance()))})}getDresseur(e,t){return this.dresseurs.find(o=>o.isOnPosition(e,t)?o:null)}getPNJ(e,t){this.pnjs.find(o=>o.isOnPosition(e,t))}getBatiment(e,t){return this.batiments.forEach(o=>{if(o.isOnPosition(e,t))return o}),null}drawDresseurs(){this.dresseurs.forEach(e=>{e.afficheToi(this.player)})}drawTerrain(){const e=h(),t=u();e.drawImage(this.terrain,this.player.dresseur.posX+250,this.player.dresseur.posY+250,t.width/3,t.height/3,0,0,t.width,t.height)}drawMonDresseur(){this.player.dresseur.afficheToi(this.player)}showDebug(){a.dev&&(document.getElementById("playerControllerX").innerHTML=`X: ${this.player.dresseur.posX}`,document.getElementById("playerControllerY").innerHTML=`Y: ${this.player.dresseur.posY}`),a.getOption("showCollision")&&this.objets.forEach(e=>{["Collision","Batiment"].includes(e.nom)&&e.showDebug(this.player)}),a.getOption("showPortes")&&this.portes.forEach(e=>{e.showDebug(this.player)}),a.getOption("showHerbes")&&this.herbes.forEach(e=>{e.showDebug(this.player)}),a.getOption("showBatiments")&&this.batiments.forEach(e=>{e.showDebug(this.player)})}checkZonesDresseurs(e){this.dresseurs.forEach(t=>{t.walkOnZone(e)&&(console.log("Grille.checkZonesDresseurs: zone colision detected"),t.isAgressive||a.getOption("noAgression")||t.attaqueJoueur(this.player))})}load(){this.dresseurs.forEach(e=>{e.load()})}getDresseurByName(e){this.dresseurs.forEach(t=>{if(t.getName()===e)return t}),console.log(`Probleme :${e} n'est pas dans la grille`)}getDresseurByNum(e){return this.dresseurs.forEach(t=>{if(t.getNum()===e)return t}),!1}}we.nbG=0;var Pe=we,je=o(9),ge=o.n(je),ke=o(10),ye=o.n(ke),Ce=o(11),ve=o.n(Ce),Oe=o(12),xe=o.n(Oe),Te=o(13),Ae=o.n(Te),Se=o(14),Ee=o.n(Se),Me=o(15),Ne=o.n(Me);window.boolPressC=!1,window.boolPressH=!1;var qe=class{constructor(e){this.dresseur=e,this.dresseur.grandeTextureX=1,this.dresseur.grandeTextureY=9,this.dresseur.animationPosition=0;const t=m.load(Ne.a);this.charSprites=t,this.fps=a.dev?10:40,this.mode=r.MAP,this.grilles=[],this.grille=null,this.combat=null,this.discussion=!1,this.info=null,this.couleurPrefere="#bbbbbb",this.pokemonCapture=!1,this.adversaire=null,this.walkable=!0,this.loadGrilles()}loadGrilles(){const e=m.load(ge.a),t=m.load(ye.a),o=m.load(ve.a),s=m.load(xe.a),i=m.load(Ae.a),n=m.load(Ee.a);this.grilles.push(new Pe(this,e)),this.grilles.push(new Pe(this,t)),this.grilles.push(new Pe(this,o)),this.grilles.push(new Pe(this,o)),this.grilles.push(new Pe(this,s)),this.grilles.push(new Pe(this,i)),this.grilles.push(new Pe(this,n))}getGrille(){return this.grille}setTexture(e){this.dresseur.setTexture(e)}setGrille(e){this.grille=this.grilles[e],this.dresseur.grille=e}loadObjects(){z(this.grilles[0],this),K(this.grilles[1],this),J(this.grilles[2],this),_(this.grilles[3],this),Z(this.grilles[4],this),Q(this.grilles[5],this),ee(this.grilles[6],this)}addPokemon(e){this.dresseur.addPokemon(e)}getTailleX(){return this.dresseur.tailleX}getGTX(){return this.dresseur.grandeTextureX}getGTY(){return this.dresseur.grandeTextureY}setPokemonCapture(e){this.pokemonCapture=e}calculNextCase(){return this.dresseur.calculNextCase()}getPokemonCapture(){return this.pokemonCapture}getTailleY(){return this.dresseur.tailleY}getAdv(){return this.dresseur.adversaire}setAdv(e){this.dresseur.adversaire=e}getTexture(){return this.dresseur.texture}getName(){return this.dresseur.getName()}soignePokemons(){return this.dresseur.soignePokemons()}setOrientation(e){this.dresseur.setOrientation(e)}getOrientation(){return this.dresseur.orientation}onLose(){this.dresseur.posX=-72,this.dresseur.posY=12,this.mode=r.HUD,this.hud.setMode(ae.FAIL),this.soignePokemons()}avance(){if(this.walkable&&!this.dresseur.idle){const e=this.getOrientation();e===x.South?this.dresseur.posY+=1:e===x.West?this.dresseur.posX-=1:e===x.East?this.dresseur.posX+=1:e===x.North&&(this.dresseur.posY-=1),this.dresseur.animationPosition<4&&0===this.mode&&(this.dresseur.animationPosition+=1),4===this.dresseur.animationPosition&&(this.dresseur.animationPosition=0)}this.dresseur.idle||this.grille.checkWalkOnHerbes(),this.grille.checkZonesDresseurs(this),this.grille.checkWalkOnPorte()}actions(e){switch(this.mode){case r.MAP:this.handleMapEvent(e);break;case r.HUD:this.hud.event(e);break;case r.FIGHT:this.combat.gestionEvenement(e);break;default:console.warn("No corresponding PlayerMode")}}handleDirectionnalEvent(e){switch(this.dresseur.idle=!1,e){case oe.DOWN:this.setOrientation(0);break;case oe.LEFT:this.setOrientation(1);break;case oe.RIGHT:this.setOrientation(2);break;case oe.UP:this.setOrientation(3);break;default:console.warn("PlayerController.handleDirectionnalEvent no compatible option")}}update(){const{x:e,y:t}=this.calculNextCase();this.walkable=this.grille.isWalkable(e,t)||a.dev&&a.getOption("noCollision"),this.walkable&&this.avance()}handleMapEvent(e){if([oe.DOWN,oe.UP,oe.LEFT,oe.RIGHT].includes(e)&&this.handleDirectionnalEvent(e),e===oe.PAUSE&&(console.log("Mise en pause"),this.mode=r.HUD,this.hud.mode=ae.PAUSE),e===oe.CONFIRM){const{x:e,y:t}=this.calculNextCase(),o=this.grille.getDresseur(e,t);o?(console.log(`found dresseur: ${o.nom}`),this.mode=r.HUD,this.hud.mode=ae.DISCUSSION,this.setAdv(o),this.getAdv().parler(this)):console.log("nothing found")}this.handleDevMapEvent(e)}handleDevMapEvent(e){a.dev&&(e===oe.C?a.addCollisionDev(this.dresseur.posX,this.dresseur.posY):e===oe.H&&a.addHerbeDev(this.dresseur.posX,this.dresseur.posY))}save(){this.mode=r.HUD,this.hud.mode=ae.INFO,this.info="Cette fonctionnalité à été désactivé pour le moment",console.log("tryin to save")}saveDresseurs(){}savePokemons(){}load(){this.mode=r.HUD,this.hud.mode=ae.INFO,this.info="Cette fonctionnalité à été désactivé pour le moment"}};var De={Global:0,Pokedex:1,Pokemons:2,Inventaire:3,Person:4,Carte:5,Sauvegrade:6,Options:7};class Ie{constructor(e,t,o){this.title=e,this.render=t,this.validate=o,this.isShown=!1}display(){this.isShown&&this.render()}toggle(){this.isShown=!this.isShown}}Ie.load=(e=>{e.options=[new Ie("Pokedex",()=>{e.displayPokedex()},()=>{e.mode=De.Pokedex}),new Ie("Pokemon",()=>{e.displayPokemons(e.player.dresseur.pokemons)},()=>{e.mode=De.Pokemons}),new Ie("Inventaire",()=>{e.displayInventaire()},()=>{e.mode=De.Inventaire}),new Ie(e.player.getName(),()=>{e.displayInfosJoueur()},()=>{e.mode=De.Person}),new Ie("Carte",()=>{e.displayCarte()},()=>{e.mode=De.Carte}),new Ie("Sauvegarde",()=>{e.displaySauv()},()=>{e.mode=De.Sauvegrade}),new Ie("Options",()=>{e.displayOptions()},()=>{e.mode=De.Options})]});var Ge=Ie;var Re=class{constructor(e){this.player=e,this.options=[],this.selection=0,this.mode=De.Global,Ge.load(this)}show(){this.lastSeen!==this.mode&&(this.lastSeen=this.mode),this.mode===De.Global?this.showMainMenu():this.options[this.selection].display()}event(e){switch(console.log(`Menu.event(${e}): mode ${this.mode}`),this.mode){case De.Global:this.handleMainMenuEvent(e);break;case De.Pokedex:this.handlePokedexEvent(e,()=>{this.options[this.selection].toggle()});break;case De.Pokemons:switch(e){case oe.BACK:this.options[this.selection].toggle(),this.mode=De.Global;break;default:console.log("Menu.show.menupokemon: option not compatible")}break;case De.Inventaire:switch(e){case oe.BACK:this.options[this.selection].toggle(),this.mode=De.Global;break;default:console.log("Menu.show.menuinventaire: option not compatible")}break;case De.Person:switch(e){case oe.BACK:this.options[this.selection].toggle(),this.mode=De.Global;break;default:console.warn("Menu.show.menudresseur: option not compatible")}break;case De.Carte:this.handleCarteEvent(e,()=>{this.options[this.selection].toggle()});break;case De.Sauvegrade:switch(e){case oe.CONFIRM:this.options[this.selection].toggle(),this.player.save();break;case oe.BACK:this.options[this.selection].toggle(),this.mode=De.Global;break;default:console.log("Menu.show.menusave: option not compatible")}break;case De.Options:switch(e){case oe.CONFIRM:this.player.couleurPrefere=`#${Math.floor(16777215*Math.random()).toString(16)}`;break;case oe.BACK:this.options[this.selection].toggle(),this.mode=De.Global;break;case oe.PAUSE:this.player.couleurPrefere="#bbbbbb";break;default:console.log("Menu.show.menuoptions: option not compatible")}break;default:console.log("Menu.event: mode not found")}}showMainMenu(){const e=h();e.fillStyle=this.player.couleurPrefere,e.fillRect(630,25,250,270),e.fillStyle="#000000",e.font=p.little,this.options.forEach((t,o)=>{e.fillText(t.title,665,80+30*o)}),this.afficheCurseur()}handleMainMenuEvent(e){switch(e){case oe.PAUSE:this.player.mode=r.MAP;break;case oe.CONFIRM:this.valider();break;case oe.BACK:this.player.mode=r.MAP;break;case oe.UP:this.selectM();break;case oe.DOWN:this.selectP();break;default:console.log("handleMainMenuEvent: option not compatible")}}handlePokedexEvent(e,t){switch(e){case oe.BACK:t(),this.mode=De.Global;break;case oe.UP:g.getPokeInf();break;case oe.DOWN:g.getPokeSup();break;default:console.warn("Menu.handlePokedexEvent : no option compatible")}}handleCarteEvent(e,t){switch(e){case oe.UP:this.player.carte.selectM();break;case oe.DOWN:this.player.carte.selectP();break;case oe.CONFIRM:t(),this.player.carte.voyage(this.player),this.player.mode=r.MAP,this.mode=De.Global;break;case oe.BACK:t(),this.mode=De.Global;break;default:console.warn("handleCarteEvent : no option compatible")}}afficheCurseur(){h().fillRect(645,72+30*this.selection,5,5)}selectP(){this.selection+=1,this.selection>=this.options.length&&(this.selection=0)}selectM(){this.selection-=1,this.selection<0&&(this.selection=this.options.length-1)}valider(){this.options[this.selection].validate(),this.options[this.selection].toggle()}displayPokemons(e){const t=h();t.fillStyle=this.player.couleurPrefere,t.fillRect(50,50,800,550),t.font=p.little,e.forEach((e,o)=>{t.fillStyle="#eeeeee",t.fillRect(55,80*o+95,780,35),t.fillStyle="#000000",t.font=p.little,t.fillText(`Nom: ${e.getName()}`,65,120+80*o),t.fillText(`Niveau: ${e.lvl}`,230,120+80*o),t.fillText(`Pdv: ${e.pdv}/${e.pdvMax}`,370,120+80*o),t.font="18px Georgia",t.fillText(`XP: ${e.exp}`,100,160+80*o),t.fillText(`Prochain Niveau : ${e.expMax}`,350,160+80*o)})}displayCarte(){this.player.carte.displayCarte()}displayOptions(){const e=h();e.fillStyle=this.player.couleurPrefere,e.fillRect(50,50,800,550),e.fillStyle="#000000",e.font=p.little,e.fillText("'a' Changer la couleur des menus",65,300),e.fillText("'p' Retour au gris",65,330)}displayPokedex(){const e=h();e.fillStyle=this.player.couleurPrefere,e.fillRect(50,50,800,550),g.affichePokemon()}displayInfosJoueur(){const e=h();e.fillStyle=this.player.couleurPrefere,e.fillRect(50,50,800,550),e.fillStyle="#000000",e.font=p.little,e.fillText(`Nom : ${this.player.getName()}`,65,270),e.fillText(`Argent : ${this.player.dresseur.argent}`,65,300),e.fillText(`Badges : ${this.player.dresseur.badges}`,65,330),e.fillText(`Objets : ${this.player.dresseur.inventaire.length}`,65,360),e.fillText(`Pokemon capturés : ${this.player.dresseur.pokemons.length+this.player.dresseur.pcDeLeo.length}`,65,390),e.drawImage(this.player.charSprites,80*this.player.getGTX(),80*this.player.getGTY(),80,80,400,200,250,250)}displaySauv(){const e=h();e.fillStyle=this.player.couleurPrefere,e.fillRect(50,50,800,550),e.fillStyle="#000000",e.font=p.little,e.fillText("Voulez vous sauvegarder votre partie ?",65,240),e.fillText("'A' : Oui",65,270),e.fillText("'B' :Retour",65,300)}displayInventaire(){const e=h();e.fillStyle=this.player.couleurPrefere,e.fillRect(50,50,800,550),e.fillStyle="#000000",e.font=p.little,e.fillText(`Vous avez ${this.player.dresseur.inventaire.length} objets dans votre inventaire`,65,300)}};var He=class{constructor(e){this.player=e,this.mode=ae.PAUSE,this.menu=new Re(e)}show(){switch(this.lastSeen!==this.mode&&(this.lastSeen=this.mode),this.mode){case ae.PAUSE:this.menu.show();break;case ae.DISCUSSION:this.player.discussion.showCurrentMessage(this.player);break;case ae.FAIL:this.displayFail();break;case ae.INFO:this.displayInfo();break;case ae.SUCCESS:this.displayWinCapture();break;case ae.WAIT:this.displayInfo();break;default:console.warn(`Hud.show: imcompatible option : ${this.mode}`)}}event(e){switch(this.mode){case ae.PAUSE:this.menu.event(e);break;case ae.DISCUSSION:if((e===oe.CONFIRM||e===oe.BACK)&&this.player.discussion.increaseMessage())if(this.player.discussion=null,this.player.dresseur.adversaire){const{x:e,y:t}=this.player.calculNextCase();this.player.grille.getDresseur(e,t)?this.player.grille.getDresseur(e,t).isAgressive?this.player.mode=r.MAP:(this.player.mode=r.FIGHT,this.player.adversaire=this.player.grille.getDresseur(e,t),this.player.combat=new be(this.player)):this.player.getAdv().isAgressive?this.player.mode=r.MAP:(this.player.mode=r.FIGHT,this.player.combat=new be(this.player))}else this.player.mode=r.MAP;break;case ae.FAIL:this.mode=ae.PAUSE,this.player.mode=r.MAP,(t=this.player).dresseur.aversaire=null,t.dresseur.posY=-72,t.dresseur.posY=6,this.player.dresseur.adversaire=null;break;case ae.INFO:this.mode=ae.PAUSE,this.player.mode=r.MAP;break;case ae.SUCCESS:this.mode=ae.PAUSE,this.player.mode=r.MAP,this.player.dresseur.adversaire=null;break;case ae.WAIT:break;default:console.log("HUD.event: mode not found")}var t}displayFail(){const e=h(),t=u();e.fillStyle="#000000",e.fillRect(0,0,t.width,t.height),e.fillStyle=this.player.couleurPrefere,e.fillRect(50,50,800,550),e.fillStyle="#000000",e.font=p.medium,e.fillText("Vos pokemons sont tous K.O",65,250),e.font=p.little,e.fillText("Vous avez perdu",65,300),e.font="15px Georgia",e.fillText("(Appuyer sur une touche)",65,350)}displayInfo(){const e=h();e.fillStyle=this.player.couleurPrefere,e.fillRect(50,350,800,250),e.fillStyle="#000000",e.font=p.little,e.fillText(this.player.info,60,380)}displayWinCapture(){const e=h();e.fillStyle=this.player.couleurPrefere,e.fillRect(50,350,800,250),e.fillStyle="#000000",e.font=p.little,e.fillText("Bravo, vous avez capturé un :",160,380),e.fillText(this.player.getPokemonCapture().getName(),200,430),e.fillText(`Niveau ${this.player.getPokemonCapture().lvl}`,160,480),this.player.getPokemonCapture().afficheToiAt(550,400)}setMode(e){this.mode=e}};var Xe=class{constructor(e,t,o,s){this.nom=e,this.x=t,this.y=o,this.porte=s}rejoindreDestination(e){this.porte.rejoindreDestination(e)}displayOnCarte(){const e=h();e.fillRect(this.x,this.y,12,12),e.fillText(this.nom,650,550)}},Ye=o(16),Le=o.n(Ye);var $e=class{constructor(e){this.player=e,this.endroits=[],this.selection=0}displayCarte(){const e=h();e.fillStyle=this.player.couleurPrefere,e.fillRect(50,50,800,550),e.fillStyle="#000000",e.font=p.little;const t=m.load(Le.a);e.drawImage(t,0,0,240,160,70,70,760,510),this.endroits.length>0&&this.endroits[this.selection].displayOnCarte()}addEndroit(e){this.endroits.push(e)}selectP(){this.selection+=1,this.selection>=this.endroits.length&&(this.selection=0)}selectM(){this.selection-=1,this.selection<0&&(this.selection=this.endroits.length-1)}voyage(e){this.endroits[this.selection].rejoindreDestination(e)}};var Be=function(e){window.addEventListener("keydown",t=>{[oe.UP,oe.DOWN,oe.LEFT,oe.RIGHT,oe.PAUSE,oe.CONFIRM,oe.BACK,oe.C,oe.H].indexOf(t.keyCode)>-1&&(t.preventDefault(),function(e,t){e.actions(t.keyCode)}(e,t))},!1),window.addEventListener("keyup",t=>{!function(e){e.dresseur.idle=!0}(e)},!1)},Ue=o(17),Fe=o.n(Ue);function Ve(){a.init();const e=h();e.save(),e.fillStyle="#000000",e.fillText("Chargement",250,250),e.restore();const t=new qe(new N("Sacha",0,-10,0)),o=m.load(Fe.a);t.setTexture(o),t.setGrille(0);const s=new C(25,5,0,100,20,15,15);t.addPokemon(s),t.carte=new $e(t),function(e){e.carte.addEndroit(new Xe("Foret",240,220,new G(0,0,5,5,0,0,"foret1",e))),e.carte.addEndroit(new Xe("Argenta",310,395,new G(-102,30,5,5,18,198,"argenta",e)))}(t),t.hud=new He(t),t.loadObjects(),Be(t),d(t)}o(19);var We=o(18),ze=o.n(We);const Ke=new Audio;Ke.src=ze.a,Ke.loop=!0,window.stopMusique=function(){Ke.paused?(Ke.play(),document.getElementById("buttonMusique").innerHTML="Musique OFF"):(Ke.pause(),document.getElementById("buttonMusique").innerHTML="Musique ON")},document.addEventListener("DOMContentLoaded",()=>{Ve()},!1)}]);